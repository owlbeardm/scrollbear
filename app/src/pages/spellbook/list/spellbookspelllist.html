<filter></filter>
<div class="accordion" id="accordionExample">
  <div ng-repeat="(key, value) in $ctrl.spells" class="card card-collapse">
    <div class="card-header" role="tab" id="heading{{$index}}" data-toggle="collapse" href="#collapse{{$index}}" aria-expanded="false" aria-controls="collapse{{$index}}" ng-click="$ctrl.click($index)">
      <h5 class="mb-0 text-primary">
        <a >
          {{$ctrl.classes[$ctrl.classSelected].name}} {{key}}
          <i class="float-right fas fa-chevron-down expanded-flip"></i>
          <div><small class='text-muted'>count {{value.length}}</small></div>
        </a>
      </h5>
    </div>

    <div id="collapse{{$index}}" class="collapse" role="tabpanel" aria-labelledby="heading{{$index}}" data-parent="#accordionExample">
      <div class="card-body">
        <spellbook-spelllist-light spells="value" collapse-name="'collapse'+$index"></spellbook-spelllist-light>
      </div>
    </div>
  </div>
</div>
<button ng-if="$ctrl.otherSpellsCount" ng-click="$ctrl.classToAll()" class='btn btn-warning'>Found <strong>{{$ctrl.otherSpellsCount}}</strong> spell{{$ctrl.otherSpellsCount!=1?'s':''}} in other classes</button>
