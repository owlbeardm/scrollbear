!function(e){function l(l){for(var t,s,o=l[0],i=l[1],c=l[2],d=0,u=[];d<o.length;d++)s=o[d],a[s]&&u.push(a[s][0]),a[s]=0;for(t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t]);for(p&&p(l);u.length;)u.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var e,l=0;l<r.length;l++){for(var n=r[l],t=!0,o=1;o<n.length;o++){var i=n[o];0!==a[i]&&(t=!1)}t&&(r.splice(l--,1),e=s(s.s=n[0]))}return e}var t={},a={0:0},r=[];function s(l){if(t[l])return t[l].exports;var n=t[l]={i:l,l:!1,exports:{}};return e[l].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=t,s.d=function(e,l,n){s.o(e,l)||Object.defineProperty(e,l,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,l){if(1&l&&(e=s(e)),8&l)return e;if(4&l&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&l&&"string"!=typeof e)for(var t in e)s.d(n,t,function(l){return e[l]}.bind(null,t));return n},s.n=function(e){var l=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(l,"a",l),l},s.o=function(e,l){return Object.prototype.hasOwnProperty.call(e,l)},s.p="";var o=window.webpackJsonp=window.webpackJsonp||[],i=o.push.bind(o);o.push=l,o=o.slice();for(var c=0;c<o.length;c++)l(o[c]);var p=i;r.push(["Ha7V",3,2,1]),n()}({"13op":function(e,l,n){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var t={template:n("lwo9"),controller:["$log",function(e){this.$onInit=function(){e.debug("AppController init")}}]};l.default=t},"6n4l":function(e,l,n){"use strict";var t=o(n("IP2n")),a=o(n("Kvk2")),r=o(n("Qh26")),s=o(n("qTWB"));function o(e){return e&&e.__esModule?e:{default:e}}var i=angular.module("app.components",[]);i.component("spell",t.default),i.component("spelllist",a.default),i.component("pageheader",r.default),i.component("main",s.default)},"87dM":function(e,l,n){"use strict";angular.module("app.services",[]),n("TBcf")},Ha7V:function(e,l,n){"use strict";n("KHwQ"),n("2C69"),n("102d"),n("zOca"),n("6n4l"),n("87dM"),n("NxeQ");var t,a=n("13op"),r=(t=a)&&t.__esModule?t:{default:t};"serviceWorker"in navigator&&window.addEventListener("load",function(){navigator.serviceWorker.register("/service-worker.js").then(function(e){console.log("SW registered: ",e)}).catch(function(e){console.log("SW registration failed: ",e)})});var s=angular.module("initiativeApp",["app.components","app.constants","app.services","ui.router"]);s.component("app",r.default),s.config(["$stateProvider","$locationProvider",function(e,l){e.state({name:"main",url:"/",component:"main",onEnter:function(){angular.element("#exampleModal").modal("hide")}}),e.state({name:"spells",url:"spells/:spellUrl",parent:"main",resolve:{spell:["spellService","$stateParams",function(e,l){return e.getSpellByUrl(l.spellUrl)}]},onEnter:["spell","$rootScope",function(e,l){l.spell=e,angular.element("#exampleModal").modal("show")}],onExit:function(){angular.element("#exampleModal").modal("hide")}}),l.html5Mode(!0)}]),s.run(["$log","$transitions","$location",function(e,l,n){l.onStart({to:"main"},function(e){if(console.log("onBefore Transition from "+e.from().name+" to "+e.to().name),n.search()._escaped_fragment_){var l=n.search()._escaped_fragment_;n.search({}),n.path(l)}})}])},IP2n:function(e,l,n){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var t={template:n("jGoG"),controller:["$log","$rootScope",function(e,l){e.debug("SpellController create");var n=this;n.rootScope=l,n.getDescripters=function(){for(var e="[",l=0;l<n.rootScope.spell.descripters.length;l++)e=e+(0!=l?", ":"")+n.rootScope.spell.descripters[l];return e+"]"}}]};l.default=t},Kbvx:function(e,l){e.exports='<spell spell="$ctrl.spell"></spell>\n<div class="card">\n  <div class="card-body">\n    <div class="flextable table-actions">\n      <div class="flextable-item ">\n        <form ng-submit="$ctrl.search()">\n          <div class="form-row">\n            <div class="col col-centered ">\n              <select class="form-control" ng-change="$ctrl.setClass()" name="classSelect" id="classSelect" ng-model="$ctrl.classSelected">\n                <option ng-repeat="(key, value) in $ctrl.classes" value="{{key}}">{{value}}</option>\n              </select>\n            </div>\n          </div>\n          <div class="form-row">\n            <div class="col">\n              <input type="text" class="form-control input-block" placeholder="Search" ng-change="$ctrl.search()" ng-model="$ctrl.filter">\n            </div>\n            <div class="col-auto">\n              <div class="form-check">\n                <label class="form-check-label text-info">\n                  <input class="form-check-input" type="checkbox" ng-change="$ctrl.search()" ng-model="$ctrl.favOnly">\n                  <span class="form-check-sign">\n                    <span class="check"></span>\n                  </span>\n                  Favorites Only\n                </label>\n              </div>\n            </div>\n          </div>\n        </form>\n      </div>\n    </div>\n    <spelllist spells="$ctrl.spells" class-name="$ctrl.classSelected"></spelllist>\n  </div>\n</div>\n<ui-view></ui-view>\n'},Kvk2:function(e,l,n){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var t={template:n("S2v3"),controller:["$log","$rootScope","$state","spellService","CLASSES",function(e,l,n,t,a){e.debug("SpellController create");var r=this;r.rootScope=l,r.$onInit=function(){e.debug("SpellListController init"),r.classesC=a},r.chooseSpell=function(e){r.spell=e;var l=r.spell.name.toLowerCase().trim().replace(/[.*+?^$ ,{}()|[\]\\]/g,"-").replace(/[’]/g,"_");n.go("spells",{spellUrl:l})},r.isFav=function(e){return t.isFav(e)},r.changeFav=function(e){t.changeFav(e)}}],bindings:{spells:"<",className:"<"}};l.default=t},NxeQ:function(e,l,n){"use strict";angular.module("app.constants",[]).constant("CLASSES",{alchemist:"Alchemist",antipaladin:"Antipaladin",arcanist:"Arcanist",Artifice:"Artifice",bard:"Bard",bloodrager:"Bloodrager",cleric:"Cleric",druid:"Druid",hunter:"Hunter",inquisitor:"Inquisitor",investigator:"Investigator",magus:"Magus",medium:"Medium",mesmerist:"Mesmerist",occultist:"Occultist",oracle:"Oracle",paladin:"Paladin",psychic:"Psychic",ranger:"Ranger",shaman:"Shaman",skald:"Skald",sorcerer:"Sorcerer",spiritualist:"Spiritualist",summoner:"Summoner",warpriest:"Warpriest",witch:"Witch",wizard:"Wizard"})},Qh26:function(e,l,n){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var t={template:n("SEDi"),controller:["$log",function(e){e.debug("PageHeaderController create");var l=this;l.$onInit=function(){e.debug("PageHeaderController init ",l.title,l.breadcrumbItems),l.titleValues=l.titleValues||{},l.subtitleValues=l.subtitleValues||{}}}],bindings:{title:"@",subtitle:"@?"}};l.default=t},S2v3:function(e,l){e.exports='<div class="accordion" id="accordionExample">\n  <div ng-repeat="(key, value) in $ctrl.spells" class="card card-collapse">\n    <div class="card-header" role="tab" id="heading{{key}}">\n      <h5 class="mb-0">\n        <a data-toggle="collapse" href="#collapse{{key}}" aria-expanded="true" aria-controls="collapse{{key}}">\n          {{$ctrl.classesC[$ctrl.className]}} level {{key}}\n          <i class="float-right fas fa-chevron-down"></i>\n          <div><small class=\'text-muted\'>count {{value.length}}</small></div>\n        </a>\n      </h5>\n    </div>\n\n    <div id="collapse{{key}}" class="collapse" role="tabpanel" aria-labelledby="heading{{key}}" data-parent="#accordionExample">\n      <div class="card-body">\n        <table class="table">\n          <tbody>\n            <tr ng-repeat="spell in value track by $index">\n              <td ng-click="$ctrl.chooseSpell(spell)">\n                <a href="#" class="text-dark">\n                  {{spell.name}}\n                </a>\n              </td>\n              <td class="float-right">\n                <button type="button" rel="tooltip" title="" class="btn btn-primary btn-link btn-sm" ng-click="$ctrl.changeFav(spell)">\n                  <i class="fa-2x text-primary fa-star" ng-class="{\'fas\': $ctrl.isFav(spell), \'far\': !$ctrl.isFav(spell)}"></i>\n                  <div class="ripple-container"></div>\n                </button>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n  </div>\n</div>\n'},SEDi:function(e,l,n){e.exports='<nav class="navbar navbar-expand-lg navbar-transparent navbar-absolute fixed-top ">\n  <div class="container-fluid">\n    <div class="navbar-wrapper">\n      <img src="'+n("TtU3")+'" style="width: 72px;" class="img-fluid float-left" alt="Responsive image">\n      <h2 class="text-light ml-3 align-top">\n        <span>{{$ctrl.title}}</span>\n      </h2>\n      <h6 class="text-primary ml-3 align-top" ng-if="$ctrl.subtitle">\n        <span>{{$ctrl.subtitle}}</span>\n      </h6>\n    </div>\n  </div>\n</nav>\n'},TBcf:function(e,l,n){"use strict";var t=n("kTu0");angular.module("app.services").factory("spellService",["$log","$window",function(e,l){var n={},a=l.localStorage,r=[];return n.getAllSpells=function(){return r},n.setClass=function(e){r=t.filter(function(l){return l.levels.includes(e)})},n.getSpellByUrl=function(e){return t.find(function(l){return l.name.toLowerCase().trim().replace(/[.*+?^$ ,{}()|[\]\\]/g,"-").replace(/[’]/g,"_")==e})},n.isFav=function(e){var l=JSON.parse(a.getItem("FAV_SPELLS"));return l&&l.length||(l=[]),l.includes(e.name)},n.changeFav=function(e){var l=JSON.parse(a.getItem("FAV_SPELLS"));l&&l.length||(l=[]),l.includes(e.name)?l.splice(l.indexOf(e.name),1):l.push(e.name),a.setItem("FAV_SPELLS",JSON.stringify(l))},n}])},TtU3:function(e,l,n){e.exports=n.p+"29c29b1671ae5a81d788b944e8611181.png"},jGoG:function(e,l){e.exports='<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="false">\n  <div class="modal-dialog modal-lg" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <h3 class="modal-title" id="exampleModalLabel">{{$ctrl.rootScope.spell.name}}</h3>\n        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n      <span class="fas fa-times"></span>\n    </button>\n      </div>\n      <div class="modal-body">\n        <div>\n          <p><b>School </b> {{$ctrl.rootScope.spell.school}}<span ng-if="$ctrl.rootScope.spell.subschool"> ({{$ctrl.rootScope.spell.subschool}})</span><span ng-if="$ctrl.rootScope.spell.descripters"> {{$ctrl.getDescripters()}}</span>;\n          <b>Level </b>{{$ctrl.rootScope.spell.levels}}<br />\n          \x3c!-- sorcerer/wizard 1 --\x3e\n          <b>Casting Time </b>\n          {{$ctrl.rootScope.spell.castingTime}}<br />\n          <b>Components </b>\n          {{$ctrl.rootScope.spell.components}}<br />\n          <span ng-if="$ctrl.rootScope.spell.range"><b>Range </b>{{$ctrl.rootScope.spell.range}}<br /></span>\n          <span ng-if="$ctrl.rootScope.spell.area"><b>Area </b>{{$ctrl.rootScope.spell.area}}<br /></span>\n          <span ng-if="$ctrl.rootScope.spell.target"><b>Target </b>{{$ctrl.rootScope.spell.target}}<br /></span>\n          <span ng-if="$ctrl.rootScope.spell.targets"><b>Targets </b>{{$ctrl.rootScope.spell.targets}}<br /></span>\n          <span ng-if="$ctrl.rootScope.spell.effect"><b>Effect </b>{{$ctrl.rootScope.spell.effect}}<br /></span>\n          <span ng-if="$ctrl.rootScope.spell.duration"><b>Duration </b>{{$ctrl.rootScope.spell.duration}}<br /></span>\n          <span ng-if="$ctrl.rootScope.spell.savingThrow"><b>Saving Throw </b>{{$ctrl.rootScope.spell.savingThrow}}; <b>Spell Resistance </b>{{$ctrl.rootScope.spell.spellResistance}}</p></span>\n          <p ng-repeat="paragraph in $ctrl.rootScope.spell.description.split(\'\\n\') track by $index">{{paragraph}}</p>\n        </div>\n      </div>\n      <div class="modal-footer">\n        <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>\n      </div>\n    </div>\n  </div>\n</div>\n'},lwo9:function(e,l){e.exports='<div class="wrapper">\n  <div class="main-panel">\n    <pageheader title="ScrollBear" subtitle="Handy Spellbook"></pageheader>\n\n    <div class="content">\n      \x3c!-- <div class="container-fluid"> --\x3e\n        <div class="row">\n          <div class="col-xl-8 col-centered">\n            <ui-view></ui-view>\n          </div>\n        </div>\n      \x3c!-- </div> --\x3e\n    </div>\n\n\n  </div>\n</div>\n\n<spell></spell>\n'},qTWB:function(e,l,n){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var t={template:n("Kbvx"),controller:["spellService","$state","$log","CLASSES",function(e,l,n,t){n.debug("SpellController create");var a=this;function r(){var l={};return e.getAllSpells().forEach(function(n){var t=!1;t=!a.filter||n.name.toLowerCase().includes(a.filter.toLowerCase()),a.favOnly&&(t=t&&e.isFav(n)),t&&n.levels.split(", ").forEach(function(e){e.substring(0,e.length-2).includes(a.classSelected)&&(l[e.substring(e.length-1)]||(l[e.substring(e.length-1)]=[]),l[e.substring(e.length-1)].push(n))})}),console.log(l),l}a.$onInit=function(){n.debug("AppController init"),a.spells=r(),n.debug("AppController init",a.spells);var e=angular.element("#exampleModal");n.debug("Modal popup",e),e.on("hidden.bs.modal",function(){l.go("main")}),a.classes=t,a.classSelected="wizard",a.setClass()},a.chooseSpell=function(e){a.spell=a.spells[e];var n=a.spell.name.toLowerCase().trim().replace(/[.*+?^$ ,{}()|[\]\\]/g,"-").replace(/[’]/g,"_");l.go("spells",{spellUrl:n})},a.isFav=function(l){return e.isFav(a.spells[l])},a.changeFav=function(l){e.changeFav(a.spells[l])},a.search=function(){n.debug("AppController ctrl.search",a.filter),a.spells=r()},a.setClass=function(){e.setClass(a.classSelected),a.search()}}]};l.default=t}});