!function(e){function n(n){for(var l,o,i=n[0],s=n[1],c=n[2],p=0,h=[];p<i.length;p++)o=i[p],Object.prototype.hasOwnProperty.call(t,o)&&t[o]&&h.push(t[o][0]),t[o]=0;for(l in s)Object.prototype.hasOwnProperty.call(s,l)&&(e[l]=s[l]);for(d&&d(n);h.length;)h.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var e,n=0;n<r.length;n++){for(var a=r[n],l=!0,i=1;i<a.length;i++){var s=a[i];0!==t[s]&&(l=!1)}l&&(r.splice(n--,1),e=o(o.s=a[0]))}return e}var l={},t={0:0},r=[];function o(n){if(l[n])return l[n].exports;var a=l[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=l,o.d=function(e,n,a){o.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:a})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,n){if(1&n&&(e=o(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var l in e)o.d(a,l,function(n){return e[n]}.bind(null,l));return a},o.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(n,"a",n),n},o.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},o.p="";var i=window.webpackJsonp=window.webpackJsonp||[],s=i.push.bind(i);i.push=n,i=i.slice();for(var c=0;c<i.length;c++)n(i[c]);var d=s;r.push(["Ha7V",5,6,11,7,4,3,9,8,10,2,1]),a()}({"/WX3":function(e,n){e.exports="<div class='row'>\n  <div class='col'>\n    <a ng-click=\"$ctrl.selectCharacter($ctrl.character)\" class=\"list-group-item list-group-item-action btn\" ng-class=\"{'btn-primary': $ctrl.selected, 'btn-secondary': !$ctrl.selected}\">\n      <div class='row'>\n        <div class='col'>\n          <span>{{$ctrl.character.name}}</span>\n          <br><span class='text-dark'><small>{{$ctrl.classes[$ctrl.character.class].name}}</small></span>\n        </div>\n        <div class='col'>\n          <i class=\"fas fa-lg fa-chevron-right float-right mt-2\"></i>\n        </div>\n      </div>\n    </a>\n  </div>\n  <div class='col-auto'>\n    <button ng-if=\"$ctrl.deleteMode\" class='btn btn btn-danger mt-2' ng-click=\"$ctrl.delete()\">confirm <i class=\"fas fa-trash  ml-1\"></i></button>\n    <button ng-if=\"$ctrl.deleteMode\" class='btn btn mt-2 ml-1' ng-click=\"$ctrl.cancelDelete()\">cancel</button>\n    <button ng-if=\"!$ctrl.deleteMode\" class='btn btn btn-danger mt-2' ng-click=\"$ctrl.startDelete()\"><i class=\"fas fa-trash\"></i></button>\n  </div>\n</div>\n"},"/w8e":function(e,n){e.exports='<div class="flextable table-actions">\n  <div class="flextable-item">\n    <form ng-submit="$ctrl.search()">\n      <div class="form-row ">\n        <div class="col-md">\n          <input  type="text" class="form-control input-block" placeholder="Search" onkeydown="return event.key != \'Enter\';" ng-change="$ctrl.search()" ng-model="$ctrl.filter">\n        </div>\n        <div class="col-auto">\n          <div class="form-check togglebutton">\n            <label class="text-info">\n              <input type="checkbox" ng-change="$ctrl.setFavOnly()" ng-model="$ctrl.favOnly">\n              <span class="toggle"></span>\n              Favorites Only\n            </label>\n          </div>\n        </div>\n      </div>\n      <div ng-if="$ctrl.onlyClassSpellsEnabled" class="form-row">\n        <div class="col-auto">\n          <div class="togglebutton form-check">\n            <label class="text-info">\n              <input type="checkbox" checked="" ng-model="$ctrl.onlyClassSpells" ng-change="$ctrl.onlyClassSpellsChanges()">\n              <span class="toggle"></span>\n              Show spells from all classes\n            </label>\n          </div>\n        </div>\n      </div>\n      <div class="form-row mt-3">\n        <div class="col-auto">\n          <a href="#" class="collapsed text-primary" data-toggle="collapse" data-target="#moreFilters" aria-expanded="false">\n            <h6>\n              More filters\n              <small><i class="ml-1 fas fa-angle-double-down expanded-flip"></i></small>\n              <span class="ml-1 text-muted" ng-if="$ctrl.filters.length">\n                ({{$ctrl.filters | array}})\n              </span>\n            </h6>\n          </a>\n        </div>\n      </div>\n      <div class="collapse" id="moreFilters" style="">\n        <div class="form-row">\n          <select class="col selectpicker" ng-change="$ctrl.setSchool()" name="schoolSelect" id="schoolSelect" ng-model="$ctrl.schoolSelected" ng-options="key as value.name for (key , value) in $ctrl.schools"></select>\n        </div>\n        <div class="form-row" ng-if="!!$ctrl.subSchools">\n          <select class="col selectpicker" ng-change="$ctrl.setSubSchool()" name="subSchoolSelect" id="subSchoolSelect" ng-model="$ctrl.subSchoolSelected" ng-options="sub as $ctrl.SUBSCHOOLS[sub].name for sub in $ctrl.subSchools"></select>\n        </div>\n        <div class="form-row" >\n          <select class="col selectpicker" ng-change="$ctrl.setCastingTime()" name="castingTimeSelect" id="castingTimeSelect" ng-model="$ctrl.castingTimeSelected" ng-options="key as value.name for (key , value) in $ctrl.castingTimes">\n          </select>\n        </div>\n        <div class="form-row">\n          <select multiple title="All source books enabled" data-selected-text-format="count > 2" data-count-selected-text="Selected {0} source books" class="selectpicker" data-live-search="true" ng-change="$ctrl.setSourceBook()" data-width="100%"\n            data-mobile="true" name="sourceBookSelect" id="sourceBookSelect" data-actions-box="true" ng-model="$ctrl.sourceBookSelected">\n            <option ng-repeat="book in $ctrl.sourceBooks" value=\'{{book}}\'>{{ book | limitTo: 32 }}{{book.length > 32 ? \'...\' : \'\'}}</option>\n          </select>\n        </div>\n      </div>\n      <div class="form-row">\n        <div class="col">\n          <button class="btn btn-sm" ng-click="$ctrl.reset()">Reset</button>\n        </div>\n      </div>\n    </form>\n  </div>\n</div>\n'},"0Vjt":function(e,n){e.exports='<div class="accordion" id="accordionExample">\n  <div ng-repeat="(key, value) in $ctrl.spells" class="card card-collapse">\n    <div class="card-header" role="tab" id="heading{{$index}}" data-toggle="collapse" href="#collapse{{$index}}" aria-expanded="false" aria-controls="collapse{{$index}}" ng-click="$ctrl.click($index)">\n      <h5 class="mb-0 text-primary">\n        <a>\n          {{$ctrl.classesC[$ctrl.className].name}} {{key}}\n          <i class="float-right fas fa-chevron-down expanded-flip"></i>\n          <div><small class=\'text-muted\'>count {{value.length}}</small></div>\n        </a>\n      </h5>\n    </div>\n\n    <div id="collapse{{$index}}" class="collapse" role="tabpanel" aria-labelledby="heading{{$index}}" data-parent="#accordionExample">\n      <div class="card-body">\n        <spell-list-light spells="value" collapse-name="\'collapse\'+$index"></spell-list-light>\n      </div>\n    </div>\n  </div>\n</div>\n'},"2oF0":function(e,n){e.exports='<div class="card">\n  <div class="card-header card-header-primary">\n    <h2 class="card-title"><i class="fas fa-info-circle"></i> About this site</h2>\n  </div>\n  <div class="card-body">\n    <ng-bind-html ng-bind-html="$ctrl.about"></ng-bind-html>\n  </div>\n</div>\n'},"3GSd":function(e,n){e.exports='<footer class="footer">\n  <div class="container-fluid">\n    <div class="row">\n      <div class="col-md">\n        <nav class="float-md-left">\n          <ul>\n            <li>\n              <a href="https://github.com/owlbeardm/scrollbear">\n                GitHub\n              </a>\n            </li>\n            <li>\n              <a href="https://twitter.com/OwlbearDm">twitter</a>\n            </li>\n            <li>\n              <a href="mailto:owlbeardm@gmail.com?subject=Scrollbear: ">Email ME</a>\n            </li>\n            <li>\n              <a href="https://c7d5a6.com/">\n                CONTACTS\n              </a>\n            </li>\n          </ul>\n        </nav>\n      </div>\n      <div class="col-md-auto">\n        <div class="copyright float-md-right">\n          <div class="row">\n            <div class="col-md-auto pr-1">\n              <span>2018-2019 Â© Mikita Kukavenka,<span>\n            </div>\n            <div class="col-md pl-0">\n              <a href="https://owlbeardm.com/" rel="noreferrer" target="_blank">OwlbearDM</a><span ng-if="$ctrl.version">, {{$ctrl.version}}<span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</footer>\n'},"3v8e":function(e,n){e.exports='<filter only-class-spells-enabled="true"></filter>\n\n<div class="accordion" id="accordionExample">\n  <div ng-repeat="(key, value) in $ctrl.spells" class="card card-collapse">\n    <div class="card-header" role="tab" id="heading{{$index}}" data-toggle="collapse" href="#collapse{{$index}}" aria-expanded="false" aria-controls="collapse{{$index}}" ng-click="$ctrl.click($index)">\n      <h5 class="mb-0 text-primary">\n        <a >\n          {{$ctrl.classes[$ctrl.classSelected].name}} {{key}}\n          <i class="float-right fas fa-chevron-down expanded-flip"></i>\n          <div><small class=\'text-muted\'>count {{value.length}}</small></div>\n        </a>\n      </h5>\n    </div>\n\n    <div id="collapse{{$index}}" class="collapse" role="tabpanel" aria-labelledby="heading{{$index}}" data-parent="#accordionExample">\n      <div class="card-body">\n        <spellbook-spelllist-light class-selected="$ctrl.classSelected" lvl="key" spells="value" collapse-name="\'collapse\'+$index"></spellbook-spelllist-light>\n      </div>\n    </div>\n  </div>\n</div>\n<button ng-if="$ctrl.otherSpellsCount" ng-click="$ctrl.classToAll()" class=\'btn btn-warning\'>Found <strong>{{$ctrl.otherSpellsCount}}</strong> spell{{$ctrl.otherSpellsCount!=1?\'s\':\'\'}} in other classes</button>\n'},"47k+":function(e,n){e.exports='<div class="modal fade" id="modalSpell" tabindex="-1" role="dialog" aria-labelledby="modalSpellLabel" aria-hidden="false">\n  <div class="modal-dialog modal-lg" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <td class="float-right">\n        </td>\n        <h3 class="modal-title" id="modalSpellLabel">\n          <a id="spellFav" href="#" class="mr-2" ng-class="{\'fas text-primary\': $ctrl.isFav, \'far text-muted\': !$ctrl.isFav}" ng-click="$ctrl.changeFav()">\n            <i class="fa-star push-shadow" ng-class="{\'fas\': $ctrl.isFav, \'far\': !$ctrl.isFav}" ></i>\n            <div class="ripple-container"></div>\n          </a>\n          {{$root.spell.name}}\n          <small>\n            <a ng-href="spells/{{$ctrl.spellUrl}}" target="_blank" class="ml-1">\n              <i class="fas fa-external-link-alt text-muted"></i>\n              <div class="ripple-container"></div>\n            </a>\n          </small>\n        </h3>\n        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n          <span class="fas fa-times"></span>\n        </button>\n      </div>\n      <div class="modal-body">\n        <div>\n          <div class="spell-description">\n            <p><b>School </b> {{$root.spell.school}}<span ng-if="$root.spell.subschool"> ({{$root.spell.subschool}})</span><span ng-if="$root.spell.descripters.length"> [{{$root.spell.descripters | array}}]</span>;\n              <b>Level </b><span>{{$root.spell.levels | array}}</span></p>\n            <p><b>Casting Time </b> {{$root.spell.castingTime}}</p>\n            <p><b>Components </b> {{$root.spell.components | array}}</p>\n            <p><span ng-if="$root.spell.range"><b>Range </b>{{$root.spell.range}}</span></p>\n            <p><span ng-if="$root.spell.area"><b>Area </b>{{$root.spell.area}}</span></p>\n            <p><span ng-if="$root.spell.target"><b>Target </b>{{$root.spell.target}}</span></p>\n            <p><span ng-if="$root.spell.targets"><b>Targets </b>{{$root.spell.targets}}</span></p>\n            <p><span ng-if="$root.spell.effect"><b>Effect </b>{{$root.spell.effect}}</span></p>\n            <p><span ng-if="$root.spell.duration"><b>Duration </b>{{$root.spell.duration}}</span></p>\n            <p><span ng-if="$root.spell.savingThrow"><b>Saving Throw </b>{{$root.spell.savingThrow}}; <b>Spell Resistance </b>{{$root.spell.spellResistance}}</span></p>\n          </div>\n          <ng-bind-html ng-bind-html="$root.spellDescription"></ng-bind-html>\n          <div ng-if="$root.spellSource" class=\'mt-1 float-right\'><small>\n              <ng-bind-html ng-bind-html="$root.spellSource"></ng-bind-html>\n            </small></div>\n        </div>\n      </div>\n      <div class="modal-footer">\n        <button id="close" type="button" class="btn" data-dismiss="modal">Close</button>\n      </div>\n    </div>\n  </div>\n</div>\n'},"5sqb":function(e,n){e.exports='<div ng-if=\'!$ctrl.total\' class="alert alert-info" role="alert">\n  There are no spells known! You can add ones from <a ui-sref="spellbook.list" class="alert-link">spell list</a>.\n</div>\n\n\n<history ng-if=\'$ctrl.total\' class=\'float-right mt-2\'></history>\n<button ng-if=\'$ctrl.total\' ng-click="$ctrl.resetCast()" class=\'btn btn-primary mb-3 float-right mr-3\'>\n  \x3c!-- <i class="fas fa-redo mr-1"></i>  --\x3e\n  Reset spell slots</button>\n\n\n<div ng-if=\'$ctrl.total\' class="accordion" id="accordionExample">\n  <div ng-repeat="(key, value) in $ctrl.spells" class="card card-collapse">\n    <known-spell-level spell-level="value" level="key" index="$index"></known-spell-level>\n  </div>\n</div>\n'},"7FSA":function(e,n){e.exports='<div id="list-new-{{$ctrl.collapseName}}" style="height:{{$ctrl.elementHeight}}px; padding-top:{{$ctrl.start*43}}px">\n  <table class="table table-sm" style="">\n    <tbody>\n      <tr ng-repeat="spell in $ctrl.spellsL track by $index">\n        <td  ng-click="$ctrl.chooseSpell(spell)">\n          <a id="chooseSpell" href="#" class="text-dark">\n            {{spell.name}}\n          </a>\n        </td>\n        <td class="float-right">\n          <a href="#" class="" ng-if="$ctrl.favL[$index]" ng-class="{\'text-primary\': $ctrl.favL[$index], \'text-muted\': !$ctrl.favL[$index]}" ng-click="$ctrl.changeFav(spell)">\n            <i class="fa-star mt-2 mb-2 ml-4 mr-4 push-shadow" ng-class="{\'fas\': $ctrl.favL[$index], \'far\': !$ctrl.favL[$index]}"></i>\n            <div class="ripple-container"></div>\n          </a>\n          <a href="#" class="" ng-if="!$ctrl.favL[$index]" ng-class="{\'text-primary\': $ctrl.favL[$index], \'text-muted\': !$ctrl.favL[$index]}" ng-click="$ctrl.changeFav(spell)">\n            <i class="fa-star mt-2 mb-2 ml-4 mr-4 push-shadow" ng-class="{\'fas\': $ctrl.favL[$index], \'far\': !$ctrl.favL[$index]}"></i>\n            <div class="ripple-container"></div>\n          </a>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n'},"87dM":function(e,n,a){angular.module("app.services",[]),a("lVom"),a("97sk"),a("TBcf"),a("dlRy"),a("BvtR"),a("vNZY"),a("RNwA"),a("LVIG")},"97sk":function(e,n){angular.module("app.services").factory("characterService",["$log","$window","migrationService",function(e,n,a){var l={},t={},r="CHARACTERS",o="SELECTED_CHARACTER",i=n.localStorage;return t.characters=JSON.parse(i.getItem(r))?JSON.parse(i.getItem(r)):[],t.selectedCharacter=JSON.parse(i.getItem(o))?JSON.parse(i.getItem(o)):void 0,t.saveCharactersToStore=function(){i.setItem(r,JSON.stringify(t.characters))},a.migrateCharacters(t.characters),t.saveCharactersToStore(),l.getCharacters=function(){return t.characters},l.getSelectedCharacter=function(){return t.selectedCharacter},l.addCharacter=function(e){l.isCharacterNameExists(e.name)||(t.characters.push(e),t.saveCharactersToStore(),ga("send","event","characters","new",e.class))},l.deleteCharacter=function(e){t.characters.splice(e,1),t.saveCharactersToStore(),ga("send","event","characters","deletes",t.characters[e].class)},l.selectCharacter=function(e){t.selectedCharacter=e,ga("send","event","characters","select",e.class)},l.isCharacterNameExists=function(e){return!!t.characters.find((function(n){return e.toUpperCase()===n.name.toUpperCase()}))},l.getSelectedCharacter=function(){return t.selectedCharacter},l.persist=function(){t.saveCharactersToStore()},l}])},"9ppo":function(e,n){e.exports='<div class="card-header" role="tab" id="heading{{$ctrl.index}}" data-toggle="collapse" href="#collapse{{$ctrl.index}}" aria-expanded="false" aria-controls="collapse{{$ctrl.index}}">\n  <h5 class="mb-0 text-primary">\n    <a>\n      Level {{$ctrl.level}}\n      <i class="float-right fas fa-chevron-down expanded-flip"></i>\n      <button ng-if="!$ctrl.editMode" class="btn btn-sm btn-round float-right mr-1" ng-click="$ctrl.edit();$event.stopPropagation();">edit</button>\n    </a>\n  </h5>\n  <div ng-if="!$ctrl.editMode" class=\'text-dark\'>\n    <small ng-class="{\'text-danger\': $ctrl.spellLevel.spells.length>$ctrl.spellLevel.perDay, \'text-warning\': $ctrl.spellLevel.spells.length<$ctrl.spellLevel.perDay}">Prepared <span >{{$ctrl.spellLevel.spells.length}}/{{$ctrl.spellLevel.perDay}}</span></small>\n    <small ng-if="$ctrl.level!=\'0\'" class=\'ml-2\'>Cast {{$ctrl.castSpells()}}/{{$ctrl.spellLevel.perDay}}</small>\n  </div>\n  <div class="mt-2" ng-if="$ctrl.editMode">\n    <form name="addCharacterForm" ng-submit="$ctrl.saveEdit()" ng-click="$event.stopPropagation();">\n      <div class="row">\n        <div class="form-group label-floating bmd-form-group col-6">\n          <label class="control-label bmd-label-static pl-3" for="perDay">Spells per Day</label>\n          <input id=\'perDay\' name=\'perDay\' min=\'0\' step=\'1\' type="number" ng-model=\'$ctrl.perDay\' class="form-control">\n        </div>\n      </div>\n      <div class="form-group">\n        \x3c!-- ng-disabled="addPcForm.$invalid" --\x3e\n        <button type="submit" class="btn btn-success" ng-click="$ctrl.saveEdit();$event.stopPropagation();">Save</button>\n        <button type="button" class="btn btn-danger" ng-click="$ctrl.cancelEdit();$event.stopPropagation();">Cancel</button>\n      </div>\n    </form>\n  </div>\n</div>\n\n<div id="collapse{{$ctrl.index}}" ng-if="$ctrl.spellLevel.spells.length" class="collapse" role="tabpanel" aria-labelledby="heading{{$ctrl.index}}" data-parent="#accordionExample">\n  <div class="card-body">\n    <table class="table table-sm">\n      <tbody>\n        <tr ng-repeat="spell in $ctrl.spellLevel.spells track by $index">\n          <td ng-click="$ctrl.chooseSpell(spell.name)">\n            <a href="#" class="text-dark">\n              {{spell.name}}\n              <span ng-if="spell.domain" class="badge badge-primary ml-1" data-toggle="tooltip" data-placement="top" title="Domain">D</span>\n              <span ng-if="spell.special" class="badge badge-warning ml-1" data-toggle="tooltip" data-placement="top" title="Special">S</span>\n              <span ng-if="spell.metamagic" class="badge badge-info ml-1" data-toggle="tooltip" data-placement="top" title="Metamagic">M{{$ctrl.filteredLabels(spell.metamagicLabel).length?\':\':\'\'}} {{$ctrl.filteredLabels(spell.metamagicLabel) | array}}</span>\n            </a>\n            \x3c!-- <div><small class="text-info">{{spell.duration}}</small>; <small class="text-info">{{spell.savingThrow}}</small></div> --\x3e\n          </td>\n          <td class="float-right">\n            <a href="#" class="ml-2 mr-3 text-danger" ng-click="$ctrl.delete($ctrl.level, $index)">\n              <i class="fas fa-trash push-shadow"></i>\n            </a>\n          </td>\n          <td ng-if="!spell.cast && $ctrl.level!=\'0\'" class="float-right">\n            <a href="#" class="ml-2 mr-3 text-success" ng-click="$ctrl.cast($ctrl.level, $index)">\n              <i class="fas fa-scroll push-shadow"></i>\n            </a>\n          </td>\n          <td ng-if="spell.cast && $ctrl.level!=\'0\'" class="float-right">\n            <a href="#" class="ml-2 mr-3 text-muted" ng-click="$ctrl.restore($ctrl.level, $index)">\n              <i class="fas fa-undo-alt push-shadow"></i>\n            </a>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</div>\n'},"B/Tr":function(e,n,a){e.exports='<nav class="navbar navbar-expand-lg navbar-transparent navbar-absolute fixed-top ">\n  <div class="container-fluid">\n    <div class="navbar-wrapper" style="width: 100%;">\n      <a ui-sref="main"><img src="'+a("TtU3")+'" style="width: 72px;" class="img-fluid float-left" alt="Responsive image"></a>\n      <div class="ml-4 container">\n        <div class="row">\n          <h3 class="text-light mt-1 mb-1">\n            <span>{{$ctrl.title}}</span>\n          </h3>\n        </div>\n        <div class="row">\n          <h6 class="text-primary" ng-if="$ctrl.subtitle">\n            <span>{{$ctrl.subtitle}}</span>\n          </h6>\n        </div>\n      </div>\n      <sidebar-toggle></sidebar-toggle>\n    </div>\n  </div>\n</nav>\n'},B9Kl:function(e,n){e.exports='<h2 id="community-use-policy">Community Use Policy</h2>\n<p>  This website uses trademarks and/or copyrights owned by Paizo Publishing, LLC, which are used under Paizo&#39;s Community Use Policy. We are expressly prohibited from charging you to use or access this content. This website is not published, endorsed, or specifically approved by Paizo Publishing. For more information about Paizo&#39;s Community Use Policy, please visit <a href="https://paizo.com/community/communityuse">paizo.com/communityuse</a>. For more information about Paizo Publishing and Paizo products, please visit <a href="https://paizo.com">paizo.com</a>.</p>\n<h2 id="open-game-license-version-10a">Open Game License Version 1.0a</h2>\n<p>  The following text is the property of Wizards of the Coast, Inc. and is Copyright 2000 Wizards of the Coast, Inc (âWizardsâ). All Rights Reserved.</p>\n<h4 id="1-definitions">1. Definitions:</h4>\n<ul>\n<li><p>(a) âContributorsâ means the copyright and/or trademark owners who have contributed Open Game Content;</p>\n</li>\n<li><p>(b) âDerivative Materialâ means copyrighted material including derivative works and translations (including into other computer languages), potation, modification, correction, addition, extension, upgrade, improvement, compilation, abridgment or other form in which an existing work may be recast, transformed or adapted;</p>\n</li>\n<li><p>(c) âDistributeâ means to reproduce, license, rent, lease, sell, broadcast, publicly display, transmit or otherwise distribute;</p>\n</li>\n<li><p>(d) âOpen Game Contentâ means the game mechanic and includes the methods, procedures, processes and routines to the extent such content does not embody the Product Identity and is an enhancement over the prior art and any additional content clearly identified as Open Game Content by the Contributor, and means any work covered by this License, including translations and derivative works under copyright law, but specifically excludes Product Identity.</p>\n</li>\n<li><p>(e) âProduct Identityâ means product and product line names, logos and identifying marks including trade dress; artifacts, creatures, characters, stories, storylines, plots, thematic elements, dialogue, incidents, language, artwork, symbols, designs, depictions, likenesses, formats, poses, concepts, themes and graphic, photographic and other visual or audio representations; names and descriptions of characters, spells, enchantments, personalities, teams, personas, likenesses and special abilities; places, locations, environments, creatures, equipment, magical or supernatural abilities or effects, logos, symbols, or graphic designs; and any other trademark or registered trademark clearly identified as Product identity by the owner of the Product Identity, and which specifically excludes the Open Game Content;</p>\n</li>\n<li><p>(f) âTrademarkâ means the logos, names, mark, sign, motto, designs that are used by a Contributor to identify itself or its products or the associated products contributed to the Open Game License by the Contributor</p>\n</li>\n<li><p>(g) âUseâ, âUsedâ or âUsingâ means to use, Distribute, copy, edit, format, modify, translate and otherwise create Derivative Material of Open Game Content.</p>\n</li>\n<li><p>(h) âYouâ or âYourâ means the licensee in terms of this agreement.</p>\n</li>\n</ul>\n<h4 id="2-the-license">2. The License:</h4>\n<p>  This License applies to any Open Game Content that contains a notice indicating that the Open Game Content may only be Used under and in terms of this License. You must affix such a notice to any Open Game Content that you Use. No terms may be added to or subtracted from this License except as described by the License itself. No other terms or conditions may be applied to any Open Game Content distributed using this License.</p>\n<h4 id="3-offer-and-acceptance">3. Offer and Acceptance:</h4>\n<p>  By Using the Open Game Content You indicate Your acceptance of the terms of this License.</p>\n<h4 id="4-grant-and-consideration">4. Grant and Consideration:</h4>\n<p>  In consideration for agreeing to use this License, the Contributors grant You a perpetual, worldwide, royalty-free, non-exclusive license with the exact terms of this License to Use, the Open Game Content.</p>\n<h4 id="5-representation-of-authority-to-contribute">5. Representation of Authority to Contribute:</h4>\n<p>  If You are contributing original material as Open Game Content, You represent that Your Contributions are Your original creation and/or You have sufficient rights to grant the rights conveyed by this License.</p>\n<h4 id="6-notice-of-license-copyright">6. Notice of License Copyright:</h4>\n<p>  You must update the COPYRIGHT NOTICE portion of this License to include the exact text of the COPYRIGHT NOTICE of any Open Game Content You are copying, modifying or distributing, and You must add the title, the copyright date, and the copyright holderâs name to the COPYRIGHT NOTICE of any original Open Game Content you Distribute.</p>\n<h4 id="7-use-of-product-identity">7. Use of Product Identity:</h4>\n<p>  You agree not to Use any Product Identity, including as an indication as to compatibility, except as expressly licensed in another, independent Agreement with the owner of each element of that Product Identity. You agree not to indicate compatibility or co-adaptability with any Trademark or Registered Trademark in conjunction with a work containing Open Game Content except as expressly licensed in another, independent Agreement with the owner of such Trademark or Registered Trademark. The use of any Product Identity in Open Game Content does not constitute a challenge to the ownership of that Product Identity. The owner of any Product Identity used in Open Game Content shall retain all rights, title and interest in and to that Product Identity.</p>\n<h4 id="8-identification">8. Identification:</h4>\n<p>  If you distribute Open Game Content You must clearly indicate which portions of the work that you are distributing are Open Game Content.</p>\n<h4 id="9-updating-the-license">9. Updating the License:</h4>\n<p>  Wizards or its designated Agents may publish updated versions of this License. You may use any authorized version of this License to copy, modify and distribute any Open Game Content originally distributed under any version of this License.</p>\n<h4 id="10-copy-of-this-license">10. Copy of this License:</h4>\n<p>  You MUST include a copy of this License with every copy of the Open Game Content You distribute.</p>\n<h4 id="11-use-of-contributor-credits">11. Use of Contributor Credits:</h4>\n<p>  You may not market or advertise the Open Game Content using the name of any Contributor unless You have written permission from the Contributor to do so.</p>\n<h4 id="12-inability-to-comply">12. Inability to Comply:</h4>\n<p>  If it is impossible for You to comply with any of the terms of this License with respect to some or all of the Open Game Content due to statute, judicial order, or governmental regulation then You may not Use any Open Game Material so affected.</p>\n<h4 id="13-termination">13. Termination:</h4>\n<p>  This License will terminate automatically if You fail to comply with all terms herein and fail to cure such breach within 30 days of becoming aware of the breach. All sublicenses shall survive the termination of this License.</p>\n<h4 id="14-reformation">14. Reformation:</h4>\n<p>  If any provision of this License is held to be unenforceable, such provision shall be reformed only to the extent necessary to make it enforceable.</p>\n<h4 id="15-copyright-notice">15. Copyright Notice:</h4>\n<ul>\n<li><p>Scrollbear.com Copyright 2018, Mikita Kukavenka.</p>\n</li>\n<li><p>The Archives of Nethys. Copyright 2010, Blake Davis.</p>\n</li>\n<li><p>Open Game License v 1.0 Copyright 2000, Wizards of the Coast, Inc.</p>\n</li>\n<li><p>System Reference Document. Copyright 2000. Wizards of the Coast, Inc; Authors: Jonathan Tweet, Monte Cook, Skip Williams, based on material by E. Gary Gygax and Dave Arneson.</p>\n</li>\n<li><p>PRPG Core Rulebook</p>\n</li>\n<li><p>Pathfinder Roleplaying Game Advanced Class Guide Â© 2014, Paizo Inc.; Authors: Dennis Baker, Ross Byers, Jesse Benner, Savannah Broadway, Jason Bulmahn, Jim Groves, Tim Hitchcock, Tracy Hurley, Jonathan H. Keith, Will McCardell, Dale C. McCoy, Jr., Tom Phillips, Stephen Radney-MacFarland, Thomas M. Reid, Sean K Reynolds, Tork Shaw, Owen K.C. Stephens, and Russ Taylor.</p>\n</li>\n<li><p>Advanced Player&#39;s Guide</p>\n</li>\n<li><p>Advanced Race Guide</p>\n</li>\n<li><p>Pathfinder Roleplaying Game Occult Adventures Â© 2015, Paizo Inc.; Authors: John Bennett, Logan Bonner, Robert Brookes, Jason Bulmahn, Ross Byers, John Compton, Adam Daigle, Jim Groves, Thurston Hillman, Eric Hindley, Brandon Hodge, Ben McFarland, Erik Mona, Jason Nelson, Tom Phillips, Stephen Radney-MacFarland, Thomas M. Reid, Alex Riggs, Robert Schwalb, Mark Seifter, Russ Taylor, and Steve Townshend.</p>\n</li>\n<li><p>Pathfinder Roleplaying Game Ultimate Combat. Â© 2011, Paizo Publishing, LLC; Authors: Dennis Baker, Jesse Benner, Benjamin Bruck, Jason Bulmahn, Brian J. Cortijo, Jim Groves, Tim Hitchcock, Richard A. Hunt, Colin McComb, Jason Nelson, Tom Phillips, Patrick Renie, Sean K Reynolds, and Russ Taylor.</p>\n</li>\n<li><p>Pathfinder Roleplaying Game Ultimate Intrigue Â© 2016, Paizo Inc.; Authors: Jesse Benner, John Bennett, Logan Bonner, Robert Brookes, Jason Bulmahn, Ross Byers, Robert N. Emerson, Amanda Hamon Kunz, Steven Helt, Thurston Hillman, Tim Hitchcock, Mikko Kallio, Rob McCreary, Jason Nelson, Tom Phillips, Stephen Radney-MacFarland, Thomas M. Reid, Alexander Riggs, David N. Ross, David Schwartz, Mark Seifter, Linda Zayas-Palmer.</p>\n</li>\n<li><p>Pathfinder Roleplaying Game Ultimate Magic. Â© 2011, Paizo Publishing, LLC; Authors: Jason Bulmahn, Tim Hitchcock, Colin McComb, Rob McCreary, Jason Nelson, Stephen Radney-MacFarland, Sean K Reynolds, Owen K.C. Stephens, and Russ Taylor.</p>\n</li>\n<li><p>Pathfinder Player Companion: Advanced Class Origins Â© 2014, Paizo Inc.; Authors: Dennis Baker, Ross Byers, Tom Phillips, Stephen Radney-MacFarland, and Owen K.C. Stephens.</p>\n</li>\n<li><p>Adventurer&#39;s Armory 2</p>\n</li>\n<li><p>Adventurer&#39;s Guide</p>\n</li>\n<li><p>Pathfinder Player Companion: Agents of Evil Â© 2015, Paizo Inc.; Author: Thurston Hillman.</p>\n</li>\n<li><p>Pathfinder Player Companion: Animal Archive Â© 2013, Paizo Publishing, LLC; Authors: Amanda Hamon, Philip Minchin, Jason Nelson, Patrick Renie, Owen K.C. Stephens, and Christina Stiles.</p>\n</li>\n<li><p>Pathfinder Campaign Setting: Aquatic Adventures Â© 2017, Paizo Inc.; Authors: Amber E. Scott and Mark Seifter.</p>\n</li>\n<li><p>Pathfinder Player Companion: Arcane Anthology Â© 2016, Paizo Inc.; Authors: Alexander Augunas, Steven T. Helt, and David N. Ross.</p>\n</li>\n<li><p>Armor Master&#39;s Handbook</p>\n</li>\n<li><p>Pathfinder Player Companion: Black Markets Â© 2015, Paizo Inc.; Authors: Ron Lundeen, Jason Nelson, David N. Ross, and David Schwartz.</p>\n</li>\n<li><p>Pathfinder Player Companion: Blood of Shadows Â© 2016, Paizo Inc.; Authors: Alexander Augunas, Steven T. Helt, Luis Loza, and Ron Lundeen.</p>\n</li>\n<li><p>Pathfinder Player Companion: Blood of the Ancients Â© 2018, Paizo Inc.; Authors: John Compton, Andrew Hoskins, James Jacobs, Mikko Kallo, Alex Riggs, Stephen Rowe, and Jeffrey Swank.</p>\n</li>\n<li><p>Pathfinder Player Companion: Blood of the Beast Â© 2016, Paizo Inc.; Authors: Alexander Augunas, John Compton, and Crystal Frasier.</p>\n</li>\n<li><p>Pathfinder Player Companion: Blood of the Coven Â© 2017, Paizo Inc.; Authors: John Compton, Eleanor Ferron, Crystal Frasier, Lissa Guillet, Elisa Mader, Adrian Ng, Mark Seifter, and Linda Zayas-Palmer.</p>\n</li>\n<li><p>Pathfinder Player Companion: Blood of the Elements Â© 2014, Paizo Inc.; Authors: Tim Akers, Judy Bauer, Jim Groves, Chris Lites, Dale C. McCoy, Jr., and Cassidy Werner.</p>\n</li>\n<li><p>Pathfinder Player Companion: Blood of the Moon Â© 2013, Paizo Publishing, LLC; Authors: Tim Akers, Neal Litherland, David N. Ross, and Tork Shaw.</p>\n</li>\n<li><p>Pathfinder Player Companion: Blood of the Night Â© 2012, Paizo Publishing, LLC; Author: Tork Shaw.</p>\n</li>\n<li><p>Pathfinder Player Companion: Blood of the Sea Â© 2017, Paizo Inc.; Author: Amber E. Scott.</p>\n</li>\n<li><p>Pathfinder Roleplaying Game Book of the Damned Â© 2017, Paizo Inc.; Authors: John Compton, Adam Daigle, Amanda Hamon Kunz, James Jacobs, Isabelle Lee, F. Wesley Schneider, Todd Stewart, and Josh Vogt.</p>\n</li>\n<li><p>Book of the Damned - Volume 3: Horsemen of the Apocalypse</p>\n</li>\n<li><p>Pathfinder Player Companion: Champions of Balance Â© 2014, Paizo Publishing, LLC; Authors: Matt Goodall, Ron Lundeen, Philip Minchin, Patrick Renie, Jason Ridler, and David Schwartz.</p>\n</li>\n<li><p>Pathfinder Player Companion: Champions of Corruption Â© 2014, Paizo Inc.; Authors: Paris Crenshaw, Jim Groves, Sean McGowen, and Philip Minchin.</p>\n</li>\n<li><p>Pathfinder Player Companion: Champions of Purity Â© 2013, Paizo Publishing, LLC; Authors: Jessica Blomstrom, Adam Daigle, Shaun Hocking, Daniel Marthaler, Tork Shaw, and Christina Stiles.</p>\n</li>\n<li><p>Pathfinder Companion: Cheliax, Empire of Devils. Copyright 2009, Paizo Publishing, LLC; Authors:Jonathan H. Keith, Colin McComb, Steven E. Schend, Leandra Christine Schneider, and Amber E. Scott.</p>\n</li>\n<li><p>Pathfinder Campaign Setting: Chronicle of the Righteous Â© 2013 Paizo Publishing, LLC; Author: Amber Scott.</p>\n</li>\n<li><p>Pathfinder Chronicles: Classic Treasures Revisited. Copyright 2010, Paizo Publishing, LLC; Authors: Jacob Burgess, Brian Cortijo, Jonathan H. Keith, Michael Kortes, Jeff Quick, Amber Scott, Todd Stewart, and Russ Taylor.</p>\n</li>\n<li><p>Pathfinder Player Companion: Cohorts and Companions Â© 2015, Paizo Inc.; Authors: Brian Duckwitz, Philip Minchin, and Jason Nelson.</p>\n</li>\n<li><p>Conquest of Bloodsworn Vale</p>\n</li>\n<li><p>Curse of the Crimson Throne (PFRPG)</p>\n</li>\n<li><p>Dark Markets - A Guide to Katapesh</p>\n</li>\n<li><p>Demon Hunter&#39;s Handbook</p>\n</li>\n<li><p>Pathfinder Campaign Setting: Demons Revisited Â© 2013, Paizo Publishing, LLC; Author: James Jacobs.</p>\n</li>\n<li><p>Pathfinder Player Companion: Dirty Tactics Toolbox Â© 2015, Paizo Inc.; Authors: Alexander Augunas, Mikko Kallio, Anthony Li, Luis Loza, and Andrew Marlowe.</p>\n</li>\n<li><p>Disciple&#39;s Doctrine</p>\n</li>\n<li><p>Pathfinder Campaign Setting: Distant Realms Â© 2018, Paizo Inc.; Authors: John Compton, Crystal Frasier, Thurston Hillman, Amanda Hamon Kunz, Lyz Liddell, and David Schwartz.</p>\n</li>\n<li><p>Pathfinder Player Companion: Divine Anthology Â© 2016, Paizo Inc.; Authors: Alexander Augunas, Russ Brown, John Compton, Alex Riggs, and David Ross.</p>\n</li>\n<li><p>Pathfinder Player Companion: Dragon Empires Primer Â© 2011, Paizo Publishing, LLC; Authors: Tim Hitchcock and Colin McComb.</p>\n</li>\n<li><p>Dragonslayer&#39;s Handbook</p>\n</li>\n<li><p>Pathfinder Chronicles: Dungeon Denizens Revisited. Copyright 2009, Paizo Publishing, LLC; Authors: Clinton Boomer, Jason Bulmahn, Joshua J. Frost, Nicolas Logue, Robert McCreary, Jason Nelson, Richard Pett, Sean K Reynolds, James L. Sutter, and Greg A. Vaughan.</p>\n</li>\n<li><p>Dungeoneer&#39;s Handbook</p>\n</li>\n<li><p>Dungeons of Golarion</p>\n</li>\n<li><p>Pathfinder Companion: Dwarves of Golarion. Copyright 2009, Paizo Publishing, LLC; Authors: David A. Eitelbach, Russ Taylor, JD Wiker, Keri Wiker, and Hank Woon.</p>\n</li>\n<li><p>Elemental Master&#39;s Handbook</p>\n</li>\n<li><p>Pathfinder Chronicles: Faction Guide. Copyright 2010, Paizo Publishing, LLC; Authors: Joshua J. Frost, Jason Nelson, and Sean K Reynolds.</p>\n</li>\n<li><p>Faiths and Philosophies</p>\n</li>\n<li><p>Pathfinder Player Companion: Faiths of Corruption Â© 2011, Paizo Publishing, LLC; Author: Colin McComb.</p>\n</li>\n<li><p>Faiths of Purity</p>\n</li>\n<li><p>Pathfinder Player Companion: Familiar Folio Â© 2015, Paizo Inc.; Authors: Will McCardell, Philip Minchin, Mark Seifter, and Jerome Virnich.</p>\n</li>\n<li><p>GameMastery Condition Cards</p>\n</li>\n<li><p>Giant Hunter&#39;s Handbook</p>\n</li>\n<li><p>Pathfinder Companion: Gnomes of Golarion. Copyright 2010, Paizo Publishing, LLC; Authors: Hal Maclean, Colin McComb, Mark Moreland, Jeff Quick, Sean K Reynolds, Steven Schend, and Owen K. C. Stephens.</p>\n</li>\n<li><p>Goblins of Golarion</p>\n</li>\n<li><p>Gods and Magic. Copyright 2008, Paizo Publishing, LLC; Author: Sean K Reynolds.</p>\n</li>\n<li><p>GameMastery Module J2: Guardians of Dragonfall. Copyright 2007 Paizo Publishing, LLC. Author: Anson Caralya.</p>\n</li>\n<li><p>Pathfinder Chronicles: Guide to the River Kingdoms. Copyright 2010, Paizo Publishing, LLC; Authors: Eric Bailey, Kevin Carter, Elaine Cunningham, Adam Daigle, Mike Ferguson, Joshua J. Frost, Steve Kenson, Rob Manning, Alison McKenzie, Colin Moulder-McComb, China MiÃ©ville, Brock Mitchel-Slentz, Jason Nelson, Richard Pett, Chris Pramas, Je&#39; Quick, Sean K Reynolds, F. Wesley Schneider, Lisa Stevens, Neil Spicer, Matthew Stinson, and John Wick.</p>\n</li>\n<li><p>Pathfinder Player Companion: Haunted Heroes Handbook Â© 2016, Paizo Inc.; Authors: Alexander Augunas, Thurston Hillman, Isabelle Lee, Stephen Rowe, and Christopher Wasko.</p>\n</li>\n<li><p>Healer&#39;s Handbook</p>\n</li>\n<li><p>Hell&#39;s Vengeance Player&#39;s Guide</p>\n</li>\n<li><p>Pathfinder Player Companion: Heroes from the Fringe Â© 2018, Paizo Inc.; Authors: Saif Ansari, Kate Baker, Michelle Jones, Isabelle Lee, Adrian Ng, Alex Riggs, Owen K.C. Stephens.</p>\n</li>\n<li><p>Pathfinder Player Companion: Heroes of the Darklands Â© 2017, Paizo Inc.; Authors: Robert Brookes, Eleanor Ferron, Michelle Jones, Alex Riggs, and Nicholas Wasko.</p>\n</li>\n<li><p>Pathfinder Player Companion: Heroes of the High Court Â© 2017, Paizo Inc.; Authors: Isabelle Lee, Luis Loza, Ron Lundeen, and Jacob W. Michaels.</p>\n</li>\n<li><p>Heroes of the Streets</p>\n</li>\n<li><p>Pathfinder Player Companion: Heroes of the Wild Â© 2015, Paizo Inc.; Authors: Tyler Beck, Pedro Coelho, Justin Juan, Mikko Kallio, Jason Keeley, Nick Salestrom, and William Thrasher.</p>\n</li>\n<li><p>Pathfinder Roleplaying Game Horror Adventures Â© 2016, Paizo Inc.; Authors: John Bennett, Clinton J. Boomer, Logan Bonner, Robert Brookes, Jason Bulmahn, Ross Byers, Jim Groves, Steven Helt, Thurston Hillman, Eric Hindley, Brandon Hodge, Mikko Kallio, Jason Nelson, Tom Phillips, Stephen Radney-MacFarland, Alistair Rigg, Alex Riggs, David N. Ross, F. Wesley Schneider, David Schwartz, Mark Seifter, and Linda Zayas-Palmer.</p>\n</li>\n<li><p>Humans of Golarion</p>\n</li>\n<li><p>Pathfinder Campaign Setting: Inner Sea Gods Â© 2014, Paizo Publishing, LLC; Authors: Sean K Reynolds, with Amanda Hamon, James Jacobs, John Ling, Mark Moreland, David N. Ross, F. Wesley Schneider, Amber E. Scott, Tork Shaw, James L. Sutter, Jerome Virnich.</p>\n</li>\n<li><p>Pathfinder Campaign Setting: Inner Sea Intrigue Â© 2016, Paizo Inc.; Authors: David N. Ross, with Ross Byers.</p>\n</li>\n<li><p>Inner Sea Magic</p>\n</li>\n<li><p>Pathfinder Campaign Setting: Inner Sea Monster Codex Â© 2015, Paizo Inc.; Authors: John Compton, Paris Crenshaw, Mike Myler, Tork Shaw, and Larry Wilhelm.</p>\n</li>\n<li><p>Pathfinder Campaign Setting: Inner Sea Races Â© 2015, Paizo Inc.; Authors: Ross Byers, John Compton, Adam Daigle, Crystal Frasier, Matthew Goodall, Alex Greenshields, James Jacobs, Amanda Hamon Kunz, Ron Lundeen, Rob McCreary, Jessica Price, David N. Ross, Owen K.C. Stephens, James L. Sutter, Russ Taylor, and Jerome Virnich.</p>\n</li>\n<li><p>Pathfinder Campaign Setting: Inner Sea Temples Â© 2016, Paizo Inc.; Authors: Robert Brookes, Liz Courts, Mikko Kallio, Jeffrey Swank, and Larry Wilhelm.</p>\n</li>\n<li><p>Inner Sea World Guide</p>\n</li>\n<li><p>Pathfinder Player Companion: Knights of the Inner Sea Â© 2012, Paizo Publishing, LLC. All Rights Reserved. Paizo Publishing, LLC, the Paizo golem logo, Pathfinder, Pathfinder Society, and GameMastery are registered trademarks of Paizo Publishing, LLC; Pathfinder Adventure Path, Pathfinder Campaign Setting, Pathfinder Module, Pathfinder Player Companion, Pathfinder Roleplaying Game, and Pathfinder Tales are trademarks of Paizo Publishing, LLC.</p>\n</li>\n<li><p>Pathfinder Player Companion: Kobolds of Golarion Â© 2013, Paizo Publishing, LLC; Authors: Tork Shaw, Mat Smith, and Jerome Virnich.</p>\n</li>\n<li><p>Pathfinder Campaign Setting: Lands of the Linnorm Kings Â© 2011, Paizo Publishing, LLC; Authors: Matthew Goodall, Jonathan Keith, Colin McComb, and Rob McCreary.</p>\n</li>\n<li><p>Pathfinder Player Companion: Legacy of Dragons Â© 2016, Paizo Inc.; Authors: Alexander Augunas, Robert Brookes, Thurston Hillman, Michelle Jones, Mikko Kallio, and Mark Seifter.</p>\n</li>\n<li><p>Pathfinder Player Companion: Legacy of the First World Â© 2017, Paizo Inc.; Authors: Jake Alley, Judy Bauer, John Compton, Mikko Kallio, Jason Keeley, Joe Pasini, Mark Seifter, Kendra Leigh Speedling, Josh Vogt, and Linda Zayas-Palmer.</p>\n</li>\n<li><p>Pathfinder Campaign Setting: Lost Kingdoms Â© 2012, Paizo Publishing, LLC; Authors: Wolfgang Baur, Adam Daigle, Jeff Erwin, and F. Wesley Schneider.</p>\n</li>\n<li><p>Pathfinder Player Companion: Magical Marketplace Â© 2013, Paizo Publishing, LLC; Authors: John Ling, Ron Lundeen, Patrick Renie, David Schwartz, and Jerome Virnich.</p>\n</li>\n<li><p>Pathfinder Player Companion: Magic Tactics Toolbox Â© 2016, Paizo Inc.; Authors: Alexander Augunas, Steven T. Helt, Thurston Hillman, and Ron Lundeen.</p>\n</li>\n<li><p>Pathfinder Player Companion: Melee Tactics Toolbox Â© 2015, Paizo Inc.; Authors: Paris Crenshaw, Ron Lundeen, and David Schwartz.</p>\n</li>\n<li><p>Pathfinder Roleplaying Game Monster Codex Â© 2014, Paizo Inc.; Authors: Dennis Baker, Jesse Benner, Logan Bonner, Jason Bulmahn, Ross Byers, John Compton, Robert N. Emerson, Jonathan H. Keith, Dale C. McCoy, Jr., Mark Moreland, Tom Phillips, Stephen Radney-MacFarland, Sean K Reynolds, Thomas M. Reid, Patrick Renie, Mark Seifter, Tork Shaw, Neil Spicer, Owen K.C. Stephens, and Russ Taylor.</p>\n</li>\n<li><p>Monster Hunter&#39;s Handbook</p>\n</li>\n<li><p>Monster Summoner&#39;s Handbook</p>\n</li>\n<li><p>Pathfinder Roleplaying Game Mythic Adventures Â© 2013, Paizo Publishing, LLC; Authors: Jason Bulmahn, Stephen Radney-MacFarland, Sean K Reynolds, Dennis Baker, Jesse Benner, Ben Bruck, Jim Groves, Tim Hitchcock, Tracy Hurley, Jonathan Keith, Jason Nelson, Tom Phillips, Ryan Macklin, F. Wesley Schneider, Amber Scott, Tork Shaw, Russ Taylor, and Ray Vallese.</p>\n</li>\n<li><p>Pathfinder Player Companion: Mythic Origins Â© 2013, Paizo Publishing, LLC; Authors: Dennis Baker, Philip Minchin, and Russ Taylor</p>\n</li>\n<li><p>Occult Mysteries</p>\n</li>\n<li><p>Pathfinder Player Companion: Occult Origins Â© 2015, Paizo Inc.; Authors: Robert Brookes, Ben McFarland, Jason Nelson, and Mark Seifter.</p>\n</li>\n<li><p>Pathfinder Campaign Setting: Occult Realms Â© 2015, Paizo Inc.; Authors: Robert Brookes, Thurston Hillman, Thomas M. Reed, and Mark Seifter.</p>\n</li>\n<li><p>Pathfinder Companion: Orcs of Golarion. Copyright 2010, Paizo Publishing, LLC; Authors: Steve Kenson, Rob McCreary, Richard Pett, Sean K Reynolds, and JD Wiker.</p>\n</li>\n<li><p>Osirion, Legacy of the Pharaohs</p>\n</li>\n<li><p>Paizo Blog - Ultimate Cantrips</p>\n</li>\n<li><p>Pathfinder #102: Breaking the Bones of Hell</p>\n</li>\n<li><p>Pathfinder #107: Scourge of the Godclaw</p>\n</li>\n<li><p>Pathfinder #110: The Thrushmoor Terror</p>\n</li>\n<li><p>Pathfinder #113: What Grows Within</p>\n</li>\n<li><p>Pathfinder #115: Trail of the Hunted</p>\n</li>\n<li><p>Pathfinder #116: Fangs of War</p>\n</li>\n<li><p>Pathfinder #117: Assault on Longshadow</p>\n</li>\n<li><p>Pathfinder #119: Prisoners of the Blight</p>\n</li>\n<li><p>Pathfinder #131: The Reaper&#39;s Right Hand</p>\n</li>\n<li><p>Pathfinder #134: It Came from Hollow Mountain</p>\n</li>\n<li><p>Pathfinder #14: Children of the Void</p>\n</li>\n<li><p>Pathfinder #19: Howl of the Carrion King</p>\n</li>\n<li><p>Pathfinder #24: The Final Wish</p>\n</li>\n<li><p>Pathfinder #29: Mother of Flies</p>\n</li>\n<li><p>Pathfinder #30: The Twice-Damned Prince</p>\n</li>\n<li><p>Pathfinder #35: War of the River Kings</p>\n</li>\n<li><p>Pathfinder #42: Sanctum of the Serpent God</p>\n</li>\n<li><p>Pathfinder #55: The Wormwood Mutiny</p>\n</li>\n<li><p>Pathfinder #56: Raiders of the Fever Sea</p>\n</li>\n<li><p>Pathfinder #62: Curse of the Lady&#39;s Light</p>\n</li>\n<li><p>Pathfinder #64: Beyond the Doomsday Door</p>\n</li>\n<li><p>Pathfinder #65: Into the Nightmare Rift</p>\n</li>\n<li><p>Pathfinder #67: The Snows of Summer</p>\n</li>\n<li><p>Pathfinder #68: The Shackled Hut</p>\n</li>\n<li><p>Pathfinder #69: Maiden, Mother, Crone</p>\n</li>\n<li><p>Pathfinder #71: Rasputin Must Die!</p>\n</li>\n<li><p>Pathfinder #74: Sword of Valor</p>\n</li>\n<li><p>Pathfinder #77: Herald of the Ivory Labyrinth</p>\n</li>\n<li><p>Pathfinder #78: City of Locusts</p>\n</li>\n<li><p>Pathfinder #80: Empty Graves</p>\n</li>\n<li><p>Pathfinder #81: Shifting Sands</p>\n</li>\n<li><p>Pathfinder #82: Secrets of the Sphinx</p>\n</li>\n<li><p>Pathfinder #84: Pyramid of the Sky Pharaoh</p>\n</li>\n<li><p>Pathfinder #86: Lords of Rust</p>\n</li>\n<li><p>Pathfinder #89: Palace of Fallen Stars</p>\n</li>\n<li><p>Pathfinder #91: Battle of Bloodmarch Hills</p>\n</li>\n<li><p>Pathfinder #93: Forge of the Giant God</p>\n</li>\n<li><p>Pathfinder #95: Anvil of Fire</p>\n</li>\n<li><p>Pathfinder Player Companion: Knights of the Inner Sea Â© 2012, Paizo Publishing, LLC. All Rights Reserved. Paizo Publishing, LLC, the Paizo golem logo, Pathfinder, Pathfinder Society, and GameMastery are registered trademarks of Paizo Publishing, LLC; Pathfinder Adventure Path, Pathfinder Campaign Setting, Pathfinder Module, Pathfinder Player Companion, Pathfinder Roleplaying Game, and Pathfinder Tales are trademarks of Paizo Publishing, LLC.</p>\n</li>\n<li><p>Pathfinder Comics #10</p>\n</li>\n<li><p>Pathfinder Society Field Guide</p>\n</li>\n<li><p>Pathfinder Player Companion: Pathfinder Society Primer Â© 2013, Paizo Publishing, LLC; Authors: John Compton and Mark Moreland.</p>\n</li>\n<li><p>Pathfinder Player Companion: Paths of the Righteous Â© 2016, Paizo Inc.; Authors: Alexander Augunas, John Compton, Jenny Jarzabski, Isabelle Lee, Stephen Rowe, and Owen K.C. Stephens.</p>\n</li>\n<li><p>Pathfinder Player Companion: People of the River Â© 2014, Paizo Inc.; Authors: Tim Akers, Jason Brick, Ethan Day-Jones, James Jacobs, Nick Salestrom, David Schwartz, and William Thrasher.</p>\n</li>\n<li><p>Pathfinder Player Companion: People of the Sands Â© 2013, Paizo Publishing, LLC; Authors: Shaun Hocking, Rob McCreary, and Jason Nelson.</p>\n</li>\n<li><p>Pathfinder Player Companion: People of the Stars Â© 2014, Paizo Inc.; Authors: Ethan Day-Jones, Jim Groves, Jonathan H. Keith, Andrew Romine, David N. Ross, and James L. Sutter.</p>\n</li>\n<li><p>Pathfinder Player Companion: People of the Wastes Â© 2017, Paizo Inc.; Authors: Logan Bonner, John Compton, Nathan King, Luis Loza, Christopher Wasko, and Linda Zayas-Palmer.</p>\n</li>\n<li><p>Pathfinder Player Companion: Pirates of the Inner Sea Â© 2012, Paizo Publishing, LLC. All Rights Reserved. Paizo Publishing, LLC, the Paizo golem logo, Pathfinder, and GameMastery are registered trademarks of Paizo Publishing, LLC; Pathfinder Adventure Path, Pathfinder Campaign Setting, Pathfinder Module, Pathfinder Player Companion, Pathfinder Roleplaying Game, Pathfinder Society, and Pathfinder Tales are trademarks of Paizo Publishing, LLC.</p>\n</li>\n<li><p>Pathfinder Roleplaying Game Planar Adventures Â© 2018, Paizo Inc.; Authors: Robert Brookes, John Compton, Paris Crenshaw, Eleanor Ferron, Thurston Hillman, James Jacobs, Isabelle Lee, Lyz Liddell, Ron Lundeen, Joe Pasini, Lacy Pellazar, Jessica Price, Mark Seifter, F. Wesley Schneider, Todd Stewart, James L. Sutter, and Linda Zayas-Palmer.</p>\n</li>\n<li><p>Plane-Hopper&#39;s Handbook</p>\n</li>\n<li><p>Pathfinder Campaign Setting: Planes of Power Â© 2016, Paizo Inc.; Authors: John Compton, Paris Crenshaw, Eleanor Ferron, Thurston Hillman, and Jessica Price.</p>\n</li>\n<li><p>Potions and Poisons</p>\n</li>\n<li><p>Pathfinder Player Companion: Psychic Anthology Â© 2017, Paizo Inc.; Authors: Alexander Augunas, Isabelle Lee, Luis Loza, Alex Riggs, Mark Seifter, Loren Sieg, and Jeremy Smith</p>\n</li>\n<li><p>Pathfinder Campaign Setting: Qadira, Jewel of the East Â© 2016, Paizo Inc.; Authors: Jessica Price, with John Compton.</p>\n</li>\n<li><p>Quests and Campaigns</p>\n</li>\n<li><p>Pathfinder Player Companion: Ranged Tactics Toolbox Â© 2014, Paizo Inc.; Authors: David N. Ross, David Schwartz, and Kaitlyn Sprague.</p>\n</li>\n<li><p>Pathfinder Adventure Path: Rise of the Runelords Anniversary Edition Â© 2012, Paizo Publishing, LLC; Authors: Wolfgang Baur, Stephen S. Greer, James Jacobs, Nicolas Logue, Richard Pett, and Greg A. Vaughan.</p>\n</li>\n<li><p>Rival Guide</p>\n</li>\n<li><p>Pathfinder Companion: Sargava, the Lost Colony. Copyright 2010, Paizo Publishing, LLC; Author: JD Wiker.</p>\n</li>\n<li><p>Second Darkness Player&#39;s Guide</p>\n</li>\n<li><p>Pathfinder Chronicles: Seekers of Secrets. Copyright 2009, Paizo Publishing, LLC; Authors: Tim Hitchcock, Erik Mona, Sean K Reynolds, James L. Sutter, and Russ Taylor.</p>\n</li>\n<li><p>Spymaster&#39;s Handbook</p>\n</li>\n<li><p>Pathfinder Companion: Taldor, Echoes of Glory. Copyright 2009, Paizo Publishing, LLC; Author: Joshua J. Frost.</p>\n</li>\n<li><p>Pathfinder Campaign Setting: Technology Guide Â© 2014, Paizo Inc.; Authors: James Jacobs and Russ Taylor</p>\n</li>\n<li><p>The Dragon&#39;s Demand</p>\n</li>\n<li><p>Pathfinder Campaign Setting: The First World, Realm of the Fey Â© 2016, Paizo Inc.; Author: James L. Sutter</p>\n</li>\n<li><p>Pathfinder Player Companion: The Harrow Handbook Â© 2014, Paizo Inc.; Authors: Crystal Frasier, Will McCardell, and David Schwartz.</p>\n</li>\n<li><p>Pathfinder Roleplaying Game Ultimate Wilderness Â© 2017, Paizo Inc.; Authors: Alexander Augunas, John Bennett, Robert Brookes, John Compton, Dan Dillon, Steven T. Helt, Thurston Hillman, Eric Hindley, Mikko Kallio, Jason Keeley, Isabelle Lee, Jason Nelson, Stephen Radney-MacFarland, Alex Riggs, David N. Ross, David Schwartz, Mark Seifter, Jeffery Swank, and Linda Zayas-Palmer.</p>\n</li>\n<li><p>Undead Slayer&#39;s Handbook</p>\n</li>\n<li><p>Pathfinder Roleplaying Game Villain Codex Â© 2016, Paizo Inc.; Authors: Alexander Augunas, Logan Bonner, Paris Crenshaw, Dan Dillon, Crystal Frasier, Amanda Hamon Kunz, Eric Hindley, Mikko Kallio, Dale C. McCoy, Jr., Stephen Radney-MacFarland, Thomas M. Reid, Alistair Rigg, Alex Riggs, Mark Seifter, and Linda Zayas-Palmer.</p>\n</li>\n<li><p>Pathfinder Player Companion: Wilderness Origins Â© 2019, Paizo Inc.; Authors: Kim Frandsen, Sasha Hall, Violet Hargrave, Andrew Mullen, Jessica Redekop, Mikhail Rekun, Sean K. Reynolds, and Rodney Sloan.</p>\n</li>\n</ul>\n'},BvtR:function(e,n){angular.module("app.services").factory("spellbookService",["$log","$rootScope","characterService","CLASSES",function(e,n,a,l){var t={};return e.debug("SpellbookService started"),t.spontaneousCast=function(e,n){a.getSelectedCharacter().knownSpells[e].cast<a.getSelectedCharacter().knownSpells[e].perDay&&(a.getSelectedCharacter().knownSpells[e].cast=Math.min(a.getSelectedCharacter().knownSpells[e].perDay,a.getSelectedCharacter().knownSpells[e].cast+1),a.getSelectedCharacter().history.push({spontaneous:!0,level:e,name:n}),a.persist(),ga("send","event","cast",n,a.getSelectedCharacter().class))},t.spontaneousRestore=function(e){0<a.getSelectedCharacter().knownSpells[e].cast&&(a.getSelectedCharacter().knownSpells[e].cast=Math.max(0,a.getSelectedCharacter().knownSpells[e].cast-1),a.getSelectedCharacter().history.push({reset:!0,spontaneous:!0,level:e}),a.persist())},t.preparedCast=function(e,n){a.getSelectedCharacter().preparedSpells[e].spells[n].cast||(a.getSelectedCharacter().preparedSpells[e].spells[n].cast=!0,a.getSelectedCharacter().history.push({prepared:!0,level:e,name:a.getSelectedCharacter().preparedSpells[e].spells[n].name}),a.persist(),ga("send","event","cast",a.getSelectedCharacter().preparedSpells[e].spells[n].name,a.getSelectedCharacter().class))},t.preparedRestore=function(e,n){a.getSelectedCharacter().preparedSpells[e].spells[n].cast&&(delete a.getSelectedCharacter().preparedSpells[e].spells[n].cast,a.getSelectedCharacter().history.push({reset:!0,prepared:!0,level:e,name:a.getSelectedCharacter().preparedSpells[e].spells[n].name}),a.persist())},t.resetCast=function(){a.getSelectedCharacter().knownSpells&&Object.entries(a.getSelectedCharacter().knownSpells).forEach((function(e){e[1].cast=0})),a.getSelectedCharacter().preparedSpells&&Object.entries(a.getSelectedCharacter().preparedSpells).forEach((function(e){e[1].spells.forEach((function(e){delete e.cast}))})),a.getSelectedCharacter().history=[],a.persist()},t.addSpell=function(n,t,r,o){e.debug("addSpell 1",t,n);var i=o;if(r){var s=n.levels.reduce((function(e,n){if(l[r].search&&l[r].search.length&&l[r].search.reduce((function(e,a){return e||-1!==n.search(a)}),!1)){var a=n.substring(n.length-1);if(!e||a<e)return a}return e}),void 0);s&&(i=s)}a.getSelectedCharacter().prepared?(a.getSelectedCharacter().preparedSpells||(a.getSelectedCharacter().preparedSpells={}),a.getSelectedCharacter().preparedSpells[i]||(a.getSelectedCharacter().preparedSpells[i]={spells:[]}),a.getSelectedCharacter().preparedSpells[i].spells.push(t)):(a.getSelectedCharacter().knownSpells||(a.getSelectedCharacter().knownSpells={}),a.getSelectedCharacter().knownSpells[i]||(a.getSelectedCharacter().knownSpells[i]={spells:[]}),a.getSelectedCharacter().knownSpells[i].spells.push(t)),a.persist(),e.debug(a.getSelectedCharacter()),a.getSelectedCharacter().prepared?ga("send","event","prepared_add",t.name,a.getSelectedCharacter().class):ga("send","event","known_add",t.name,a.getSelectedCharacter().class)},t.addMetamagic=function(a,t,r){var o=r;if(t){var i=a.levels.reduce((function(e,n){if(l[t].search&&l[t].search.length&&l[t].search.reduce((function(e,a){return e||-1!==n.search(a)}),!1)){var a=n.substring(n.length-1);if(!e||a<e)return a}return e}),void 0);i&&(o=i)}n.spell=a,n.spellLevel=o;var s=angular.element("#modalMetamagic");e.debug("AppController metamagic",s),s.modal("show")},t}])},HBlH:function(e,n){e.exports='\x3c!-- <spell spell="$ctrl.spell"></spell> --\x3e\n\n<div class="card">\n  <div class="card-header card-header-primary">\n    \x3c!-- colors: "header-primary", "header-info", "header-success", "header-warning", "header-danger" --\x3e\n    <div class="nav-tabs-navigation">\n      <div class="nav-tabs-wrapper">\n        <ul class="nav nav-tabs" data-tabs="tabs">\n          <li class="nav-item">\n            <a class="nav-link" ui-sref="spellbook.characters" ui-sref-active="active">\n              <i class="fas fa-user"></i> Characters\n              <div class="ripple-container"></div>\n            </a>\n          </li>\n          <li class="nav-item" ng-if="$ctrl.selectedCharacter() && $ctrl.selectedCharacter().prepared">\n            <a class="nav-link" ui-sref="spellbook.prepared" ui-sref-active="active">\n              <i class="fas fa-scroll"></i> Spells Prepared\n              <div class="ripple-container"></div>\n            </a>\n          </li>\n          <li class="nav-item" ng-if="$ctrl.selectedCharacter() && !$ctrl.selectedCharacter().prepared">\n            <a class="nav-link" ui-sref="spellbook.known" ui-sref-active="active">\n              <i class="fas fa-scroll"></i> Spells Known\n              <div class="ripple-container"></div>\n            </a>\n          </li>\n          <li class="nav-item" ng-if="$ctrl.selectedCharacter() && $ctrl.selectedCharacter().spellbook">\n            <a class="nav-link" ui-sref="spellbook.book" ui-sref-active="active">\n              <i class="fas fa-book"></i> Spellbook\n              <div class="ripple-container"></div>\n            </a>\n          </li>\n          <li class="nav-item" ng-if="$ctrl.selectedCharacter()">\n            <a class="nav-link" ui-sref="spellbook.list" ui-sref-active="active">\n              <i class="fas fa-hat-wizard"></i> Class spells\n              <div class="ripple-container"></div>\n            </a>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </div>\n  <div class="card-body">\n    <ui-view></ui-view>\n  </div>\n  <div class="card-footer">\n  </div>\n</div>\n'},"HT+c":function(e,n){e.exports='<div ng-if=\'!$ctrl.total\' class="alert alert-info" role="alert">\n  There are no spells in spellbook!  You can add ones from <a ui-sref="spellbook.list" class="alert-link">spell list</a>.\n</div>\n\n<div class="accordion" id="accordionExample">\n  <div ng-repeat="(key, value) in $ctrl.book" class="card card-collapse">\n    <div class="card-header" ng-if="value.length" role="tab" id="heading{{$index}}" data-toggle="collapse" href="#collapse{{$index}}" aria-expanded="false" aria-controls="collapse{{$index}}">\n      <h5 class="mb-0 text-primary">\n        <a >\n          Level {{key}}\n          <i class="float-right fas fa-chevron-down expanded-flip"></i>\n          <div><small class=\'text-muted\'>count {{value.length}}</small></div>\n        </a>\n      </h5>\n    </div>\n\n    <div id="collapse{{$index}}" ng-if="value.length" class="collapse" role="tabpanel" aria-labelledby="heading{{$index}}" data-parent="#accordionExample">\n      <div class="card-body">\n        <table class="table table-sm">\n          <tbody>\n            <tr ng-repeat="spell in value">\n              <td ng-click="$ctrl.chooseSpell(spell)">\n                <a href="#" class="text-dark">\n                  {{spell}}\n                </a>\n                \x3c!-- <div><small class="text-info">{{spell.duration}}</small>; <small class="text-info">{{spell.savingThrow}}</small></div> --\x3e\n              </td>\n              <td class="float-right">\n                <a href="#" class="ml-2 mr-3" ng-class="{\'text-primary\': $ctrl.prepared || !$ctrl.isSpellPrepared(spell), \'text-muted\': !$ctrl.prepared && $ctrl.isSpellPrepared(spell), \'disabled\': !$ctrl.prepared && $ctrl.isSpellPrepared(spell)}" ng-click="$ctrl.addSpell(key, spell)">\n                  <span class="badge badge-secondary" ng-if="$ctrl.prepared && $ctrl.isSpellPrepared(spell)"><small>{{$ctrl.isSpellPrepared(spell)}}</small></span>\n                  <i class="fas fa-scroll push-shadow"></i>\n                </a>\n                <a href="#" class="ml-2 mr-3 text-danger" ng-click="$ctrl.delete(key, $index)">\n                  <i class="fas fa-trash push-shadow"></i>\n                </a>\n                \x3c!-- <a href="#" class="ml-2" ng-click="$">\n                  <i class="fas fa-chevron-circle-down text-primary"></i>\n                  <div class="ripple-container"></div>\n                </a> --\x3e\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n  </div>\n</div>\n'},Ha7V:function(e,n,a){"use strict";a.r(n),a("KHwQ"),a("2C69"),a("wmx0"),a("nNr/"),a("zOca");var l={template:a("VLoA"),controller:["$log","$state","characterService",function(e,n,a){e.debug("HistoryController create");var l=this;l.$onInit=function(){e.debug("HistoryController init")},l.changeHistory=function(){l.history=a.getSelectedCharacter().history,e.debug("HistoryController changeHistory",a.getSelectedCharacter())}}],bindings:{}},t={template:a("/WX3"),controller:["$log","$state","characterService","CLASSES",function(e,n,a,l){e.debug("CharacterItemController create");var t=this;t.$onInit=function(){e.debug("CharacterItemController init"),t.classes=l},t.delete=function(){a.deleteCharacter(t.id),t.deleteMode=!1},t.characterSelected=function(){return t.characters.indexOf(a.getSelectedCharacter())},t.selectCharacter=function(e){a.selectCharacter(e),e.prepared?n.go("spellbook.prepared"):n.go("spellbook.known")},t.startDelete=function(){t.deleteMode=!0},t.cancelDelete=function(){t.deleteMode=!1}}],bindings:{character:"<",selected:"<",id:"<"}},r={template:a("hAGq"),controller:["$log","characterService","focusService","spellService","spellbookService",function(e,n,a,l,t){e.debug("KnownSpelLevelController create");var r=this;r.$onInit=function(){e.debug("KnownSpelLevelController init")},r.cast=function(n,a){e.debug("KnownSpelLevelController cast",n),t.spontaneousCast(n,a)},r.restoreSlot=function(e){t.spontaneousRestore(e)},r.delete=function(a,l){e.debug("SpellbookBookController ctrl.delete",a,l),n.getSelectedCharacter().knownSpells[a].spells.splice(l,1),n.persist()},r.edit=function(){r.perDay=r.spellLevel.perDay,r.known=r.spellLevel.known,r.editMode=!0,a.setFocus("known")},r.saveEdit=function(){r.spellLevel.perDay=r.perDay,r.spellLevel.known=r.known,r.editMode=!1,n.persist()},r.cancelEdit=function(){r.editMode=!1},r.chooseSpell=function(e){l.showSpell(e.name)},r.filteredLabels=function(e){return e.filter?e.filter((function(e){return!!e})).map((function(e){return e.replace(" spell","")})).sort():void 0}}],bindings:{spellLevel:"<",level:"<",index:"<"}},o={template:a("47k+"),controller:["$log","$rootScope","$location","spellService","filterService",function(e,n,a,l,t){e.debug("ModalSpellController create");var r=this;r.$onInit=function(){var o=angular.element("#modalSpell");o.on("show.bs.modal",(function(){e.debug("ModalSpellController show.bs.modal"),n.title="".concat(n.spell.name," - "),r.isFav=t.isFav(n.spell),r.spellUrl=l.spellNameToUrl(n.spell.name),e.debug("ModalSpellController show.bs.modal",r.spellUrl),window.ga("set","page","/spells/".concat(r.spellUrl)),window.ga("send","pageview")})),o.on("hidden.bs.modal",(function(){e.debug("ModalSpellController hidden.bs.modal",JSON.stringify(a.url())),n.title="",window.ga("set","page",a.url()),window.ga("send","pageview")}))},r.changeFav=function(){t.changeFav(n.spell),r.isFav=t.isFav(n.spell)}}]},i={template:a("9ppo"),controller:["$log","characterService","focusService","spellService","spellbookService",function(e,n,a,l,t){var r=this;e.debug("SpellController create"),r.$onInit=function(){e.debug("PreparedSpelLevelController init",n.getSelectedCharacter().preparedSpells),n.getSelectedCharacter().preparedSpells[r.level].spells.sort((function(e,n){var a=e.name.toUpperCase(),l=n.name.toUpperCase();return a<l?-1:l<a?1:0})),n.persist()},r.cast=function(e,n){t.preparedCast(e,n)},r.restore=function(e,n){t.preparedRestore(e,n)},r.delete=function(a,l){e.debug("SpellbookBookController ctrl.delete",a,l),n.getSelectedCharacter().preparedSpells[a].spells.splice(l,1),n.persist()},r.edit=function(){r.perDay=r.spellLevel.perDay,r.known=r.spellLevel.known,r.editMode=!0,a.setFocus("perDay")},r.saveEdit=function(){r.spellLevel.perDay=r.perDay,r.spellLevel.known=r.known,r.editMode=!1,n.persist()},r.cancelEdit=function(){r.editMode=!1},r.castSpells=function(){return r.spellLevel.spells.reduce((function(e,n){return e+(n.cast?1:0)}),0)},r.chooseSpell=function(e){l.showSpell(e)},r.filteredLabels=function(e){return e.filter?e.filter((function(e){return!!e})).map((function(e){return e.replace(" spell","")})).sort():void 0}}],bindings:{spellLevel:"<",level:"<",index:"<"}},s={template:a("gNSh"),controller:["$log","$scope","filterService","characterService","spellService","spellbookService","$window","$document","CLASSES",function(e,n,a,l,t,r,o,i,s){e.debug("SpellbookSpelllistLightController create");var c=this;function d(){c.bookL=[],c.spellsL.forEach((function(e){c.bookL.push(c.isInSpellBook(e.name))})),c.preparedL=[],c.spellsL.forEach((function(e){c.preparedL.push(c.isSpellPrepared(e.name))}))}function p(e,n){r.addSpell(e,n,c.classSelected,c.lvl),d()}c.$onInit=function(){e.debug("SpellbookSpelllistLightController init"),c.prepared=l.getSelectedCharacter().prepared,c.spellbook=l.getSelectedCharacter().spellbook,angular.element(o).bind("scroll",(function(){c.redraw()})),angular.element(o).bind("resize",(function(){c.redraw()})),e.debug(angular.element("#".concat(c.collapseName)))},c.$onChanges=function(){c.elementHeight=40*c.spells.length,c.spellsL=c.spells.slice(c.start,c.start+c.elements)},c.$doCheck=function(){if(c.collapse=angular.element("#".concat(c.collapseName)),c.collapse.attr("class")){if(c.classes=c.collapse.attr("class").split(" "),c.scroll=i.scrollTop(),c.offsetTop=angular.element("#list-new-".concat(c.collapseName)).offset(),c.offsetTop&&c.scroll>c.offsetTop.top+40*c.spells.length)return;if(c.elementHeight=40*c.spells.length,c.height=o.innerHeight,c.offsetTop){if(c.scroll>c.offsetTop.top+40*c.spells)return;var e=c.height/40+2,n=Math.min(Math.max(0,Math.floor((c.scroll-c.offsetTop.top)/40)),c.spells.length);e===c.elements&&n===c.start||(c.start=n,c.elements=e,c.spellsL=c.spells.slice(c.start,c.start+c.elements),d())}}},c.redraw=function(){c.$doCheck(),n.$digest()},c.chooseSpell=function(e){t.showSpell(e.name)},c.isFav=function(e){return a.isFav(e)},c.changeFav=function(e){a.changeFav(e)},c.isInSpellBook=function(e){return!!l.getSelectedCharacter().book&&Object.entries(l.getSelectedCharacter().book).reduce((function(n,a){return n||a[1].reduce((function(n,a){return n||a===e}),!1)}),!1)},c.isSpellPrepared=function(e){if(l.getSelectedCharacter().prepared){if(l.getSelectedCharacter().preparedSpells)return Object.entries(l.getSelectedCharacter().preparedSpells).reduce((function(n,a){return n+a[1].spells.reduce((function(n,a){return n+(a.name===e?1:0)}),0)}),0)}else if(l.getSelectedCharacter().knownSpells)return l.getSelectedCharacter().knownSpells[c.lvl]&&l.getSelectedCharacter().knownSpells[c.lvl].spells.reduce((function(n,a){return n||a.name===e}),!1);return!1},c.addToBook=function(n){l.getSelectedCharacter().book||(l.getSelectedCharacter().book={}),e.debug(n.levels);var a=n.levels.reduce((function(e,n){if(s[c.classSelected].search&&s[c.classSelected].search.length&&s[c.classSelected].search.reduce((function(e,a){return e||-1!==n.search(a)}),!1)){var a=n.substring(n.length-1);if(!e||a<e)return a}return e}),void 0);void 0===a&&(a=c.lvl),l.getSelectedCharacter().book[a]||(l.getSelectedCharacter().book[a]=[]),l.getSelectedCharacter().book[a].push(n.name),l.persist(),d(),ga("send","event","spellbook_add",n.name,l.getSelectedCharacter().class)},c.addSpell=function(n){e.debug("ctrl.addSpell",c.collapseName,n),p(n,{name:n.name})},c.addSpellAsDomain=function(n){e.debug("ctrl.addSpellAsDomain",n),p(n,{name:n.name,domain:!0})},c.addSpellAsSpecial=function(n){e.debug("ctrl.addSpellAsSpecial",n),p(n,{name:n.name,special:!0})},c.addSpellAsMetamagic=function(e){r.addMetamagic(e,c.classSelected,c.lvl)}}],bindings:{spells:"<",collapseName:"<",classSelected:"<",lvl:"<"}},c={template:a("0Vjt"),controller:["$log","$state","$rootScope","$scope","$timeout","filterService","spellService","CLASSES","$window","$document",function(e,n,a,l,t,r,o,i,s,c){e.debug("SpellListController create");var d=this;d.$onInit=function(){e.debug("SpellListController init"),d.classesC=i},d.chooseSpell=function(e){o.showSpell(e.name)},d.isFav=function(e){return r.isFav(e)},d.changeFav=function(e){r.changeFav(e)},d.click=function(){var e=c.scrollTop();t(c.scrollTop(e))}}],bindings:{spells:"<",className:"<"}},d={template:a("7FSA"),controller:["$log","$state","$scope","$rootScope","$timeout","filterService","spellService","$window","$document",function(e,n,a,l,t,r,o,i,s){e.debug("SpellListLightController create");var c=this;function d(){c.favL=[],c.spellsL.forEach((function(e){c.favL.push(c.isFav(e))}))}c.$onInit=function(){e.debug("SpellListLightController init"),angular.element(i).bind("scroll",(function(){c.redraw()})),angular.element(i).bind("resize",(function(){c.redraw()}))},c.$onChanges=function(){c.elementHeight=43*c.spells.length,c.spellsL=c.spells.slice(c.start,c.start+c.elements)},c.$doCheck=function(){if(c.collapse=angular.element("#".concat(c.collapseName)),c.collapse.attr("class")){if(c.classes=c.collapse.attr("class").split(" "),c.scroll=s.scrollTop(),c.offsetTop=angular.element("#list-new-".concat(c.collapseName)).offset(),c.offsetTop&&c.scroll>c.offsetTop.top+43*c.spells.length)return;if(c.elementHeight=43*c.spells.length,c.height=i.innerHeight,c.offsetTop){if(c.scroll>c.offsetTop.top+43*c.spells)return;var e=c.height/43+2,n=Math.min(Math.max(0,Math.floor((c.scroll-c.offsetTop.top)/43)),c.spells.length);e===c.elements&&n===c.start||(c.start=n,c.elements=e,c.spellsL=c.spells.slice(c.start,c.start+c.elements),d())}}},c.redraw=function(){c.$doCheck(),a.$digest()},c.chooseSpell=function(e){o.showSpell(e.name)},c.isFav=function(e){return r.isFav(e)},c.changeFav=function(e){r.changeFav(e),d()}}],bindings:{spells:"<",collapseName:"<"}};a("jVbS");var p={template:a("B/Tr"),controller:["$log",function(e){e.debug("PageHeaderController create");var n=this;n.$onInit=function(){e.debug("PageHeaderController init ",n.title,n.breadcrumbItems),n.titleValues=n.titleValues||{},n.subtitleValues=n.subtitleValues||{}}}],bindings:{title:"@",subtitle:"@?"}};a("9gO7");var h={template:a("3GSd"),controller:["$log",function(e){e.debug("PageFooterController create");var n=this;n.$onInit=function(){e.debug("PageFooterController init "),n.version="1.11.2"}}],bindings:{}},u={template:a("/w8e"),controller:["notificationService","filterService","$log","$window","$timeout","SCHOOLS","SUBSCHOOLS","CASTING_TIME","SOURCE_BOOK",function(e,n,a,l,t,r,o,i,s){var c=this;a.debug("FilterController create"),c.$onInit=function(){a.debug("FilterController init "),c.onlyClassSpells=!1,c.favOnly=n.favOnly,c.sourceBookSelected=n.sourceBooks,c.schools=r,c.castingTimes=i,c.sourceBooks=s,c.SUBSCHOOLS=o,c.schoolSelected="any",c.subSchoolSelected="any",c.castingTimeSelected="any",c.filters=[],n.school=c.schoolSelected,n.castingTime=c.castingTimeSelected,c.search(),t((function(){angular.element(".selectpicker").selectpicker("refresh")}))},c.search=function(){a.debug("FilterController ctrl.search",c.filter),c.filters=[],"any"!==c.schoolSelected&&c.filters.push(r[c.schoolSelected].name),"any"!==c.subSchoolSelected&&c.filters.push(o[c.subSchoolSelected].name),"any"!==c.castingTimeSelected&&c.filters.push(i[c.castingTimeSelected].name),c.sourceBookSelected.length&&c.filters.push("".concat(c.sourceBookSelected.length," source").concat(1<c.sourceBookSelected.length?"s":"")),n.filterText=c.filter,e.notify(e.FILTER_CHANGED,void 0)},c.setSchool=function(){n.school=c.schoolSelected,c.subSchools=r[c.schoolSelected].subschool,c.subSchoolSelected="any",n.subSchool=c.subSchoolSelected,c.search(),t((function(){angular.element(".selectpicker").selectpicker("refresh")}))},c.setSubSchool=function(){n.subSchool=c.subSchoolSelected,c.search()},c.setCastingTime=function(){n.castingTime=c.castingTimeSelected,c.search()},c.setSourceBook=function(){n.setSourceBook(c.sourceBookSelected),c.search()},c.setFavOnly=function(){n.setFavOnly(c.favOnly),c.search()},c.reset=function(){c.filter="",c.schoolSelected="any",n.school=c.schoolSelected,c.subSchools=void 0,c.subSchoolSelected="any",n.subSchool=c.subSchoolSelected,c.castingTimeSelected="any",n.castingTime=c.schoolSelected,t((function(){angular.element(".selectpicker").selectpicker("refresh")}))},c.onlyClassSpellsChanges=function(){e.notify(e.FILTER_ONLY_CLASS_SPELLS_CHANGED,!c.onlyClassSpells)}}],bindings:{onlyClassSpellsEnabled:"<"}},m={template:a("thb7"),controller:["$log","sidebarService",function(e,n){e.debug("SidebarToggleController create");var a=this;a.$onInit=function(){e.debug("SidebarToggleController init "),a.mobile_menu_visible=0},a.toggleSidebar=function(){e.debug("SidebarToggleController toggleSidebar"),n.toggleSidebar()}}],bindings:{}},f={template:a("XAXJ"),controller:["$log",function(e){e.debug("SidebarController create"),this.$onInit=function(){e.debug("SidebarController init ")}}],bindings:{}},g={template:a("ZI5w"),controller:["$log",function(e){var n=this;n.$onInit=function(){e.debug("YesNoModalController init"),n.levels=[0,1,2,3,4,5,6,7,8,9]},n.yesAction=function(){n.modalInstance.close()},n.noAction=function(){n.modalInstance.dismiss()}}],bindings:{modalInstance:"<",resolve:"<"}};a("j9NA");var b={template:a("lYkm"),controller:["$log","$rootScope","spellbookService","$timeout","METAMAGIC",function(e,n,a,l,t){e.debug("ModalMetamagicController create");var r=this,o=["+0","+1","+2","+3","+4","+5","+6","+7","+8","+9"];r.$onInit=function(){e.debug("ModalMetamagicController ctrl.levelIncreases",r.levelIncreases),r.labels=[],r.levelIncreases=o,angular.element("#modalMetamagic").on("show.bs.modal",(function(){e.debug("ModalMetamagicController show.bs.modal"),r.levelSelected=void 0,r.castingTimes=t,r.spellName=n.spell.name,r.labels=[],r.initialLevel=Number.parseInt(n.spellLevel,10),r.levelIncreases=o.slice(0,10-r.initialLevel),r.levelSelected=0,r.refresh()}))},r.addLabel=function(){r.labels.push(void 0),l((function(){angular.element(".selectpicker").selectpicker("refresh")}))},r.delete=function(e){r.labels.splice(e,1),l((function(){angular.element(".selectpicker").selectpicker("refresh")}))},r.filteredLabels=function(){return r.labels.filter((function(e){return!!e})).map((function(e){return e.replace(" spell","")})).sort()},r.refresh=function(){l((function(){angular.element(".selectpicker").selectpicker("refresh")}))},r.addSpell=function(){var e={name:n.spell.name,metamagic:!0,metamagicLabel:r.labels};a.addSpell(n.spell,e,void 0,Number.parseInt(r.initialLevel,10)+Number.parseInt(r.levelSelected,10))}}]},v=angular.module("app.components",[]);v.component("history",l),v.component("characterItem",t),v.component("knownSpellLevel",r),v.component("modalSpell",o),v.component("preparedSpellLevel",i),v.component("spellbookSpelllistLight",s),v.component("spellList",c),v.component("spellListLight",d),v.component("pageHeader",p),v.component("pageFooter",h),v.component("filter",u),v.component("sidebarToggle",m),v.component("sidebar",f),v.component("yesNoModal",g),v.component("modalMetamagic",b);var S={template:a("HBlH"),controller:["$log","characterService",function(e,n){e.debug("SpellbookController create"),this.$onInit=function(){e.debug("SpellbookController init",n.getSelectedCharacter())},this.selectedCharacter=function(){return n.getSelectedCharacter()}}]},y={template:a("X5G1"),controller:["$log","$rootScope","$state","characterService","CLASSES",function(e,n,a,l,t){e.debug("CharactersController create");var r=this;r.$onInit=function(){e.debug("CharactersController init"),r.classes=t,r.characters=l.getCharacters(),window.performance&&ga("send","timing","Transition","onInit",Math.round(performance.now())-n.onStartTime,a.current.name)},r.add=function(){a.go("spellbook.newcharacter")},r.characterSelected=function(){return r.characters.indexOf(l.getSelectedCharacter())}}]};function C(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n&&(l=l.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,l)}return a}function k(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}var P={template:a("aTH2"),controller:["$log","$rootScope","$state","characterService","CLASSES",function(e,n,a,l,t){e.debug("NewCharacterController create");var r=this;r.$onInit=function(){e.debug("CharactersController init"),r.classes=function(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?C(Object(a),!0).forEach((function(n){k(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}({},t),delete r.classes.all,r.prepared=!1,r.spellbook=!1,r.isNameExists=!1,window.performance&&ga("send","timing","Transition","onInit",Math.round(performance.now())-n.onStartTime,a.current.name)},r.add=function(){var e={name:r.name,prepared:r.prepared,spellbook:r.spellbook,class:r.classSelected};l.addCharacter(e),l.selectCharacter(e),e.prepared?a.go("spellbook.prepared"):a.go("spellbook.known")},r.goBack=function(){a.go("spellbook.characters")},r.checkIfNameExists=function(){r.isNameExists=l.isCharacterNameExists(r.name)}}]},$={template:a("g+cT"),controller:["$log","$rootScope","$state","characterService","spellbookService",function(e,n,a,l,t){var r=this;e.debug("SpellController create"),r.$onInit=function(){e.debug("PreparedController init"),l.getSelectedCharacter()?(l.getSelectedCharacter().preparedSpells||(l.getSelectedCharacter().preparedSpells={}),r.spells=l.getSelectedCharacter().preparedSpells,Object.entries(r.spells).forEach((function(e){e[1].spells||(e[1].spells=[]),e[1].cast||(e[1].cast=0),e[1].perDay||(e[1].perDay=0),e[1].known||(e[1].known=0),e[1].spells.sort();var n=[];e[1].spells=e[1].spells.filter((function(e){var a=!n.includes(e);return n.push(e),a}))}))):a.go("spellbook.characters"),l.persist(),r.total=Object.entries(r.spells).reduce((function(e,n){return e+n[1].spells.length}),0),window.performance&&ga("send","timing","Transition","onInit",Math.round(performance.now())-n.onStartTime,a.current.name)},r.cast=function(e){l.getSelectedCharacter().knownSpells[e].cast+=1,l.persist()},r.delete=function(n,a){e.debug("SpellbookBookController ctrl.delete",n,a),l.getSelectedCharacter().knownSpells[n].spells.splice(a,1),l.persist()},r.resetCast=function(){t.resetCast()}}],bindings:{spells:"<",className:"<"}},w={template:a("5sqb"),controller:["$log","$rootScope","$state","characterService","spellbookService",function(e,n,a,l,t){var r=this;e.debug("KnownController create"),r.$onInit=function(){e.debug("KnownController init"),l.getSelectedCharacter()?(l.getSelectedCharacter().knownSpells||(l.getSelectedCharacter().knownSpells={}),r.spells=l.getSelectedCharacter().knownSpells,Object.entries(r.spells).forEach((function(e){e[1].spells||(e[1].spells=[]),e[1].cast||(e[1].cast=0),e[1].perDay||(e[1].perDay=0),e[1].known||(e[1].known=0),e[1].spells.sort();var n=[];e[1].spells=e[1].spells.filter((function(e){var a=!n.includes(e);return n.push(e),a}))}))):a.go("spellbook.characters"),l.persist(),r.total=Object.entries(r.spells).reduce((function(e,n){return e+n[1].spells.length}),0),window.performance&&ga("send","timing","Transition","onInit",Math.round(performance.now())-n.onStartTime,a.current.name)},r.resetCast=function(){t.resetCast()}}],bindings:{spells:"<",className:"<"}},L={template:a("3v8e"),controller:["$log","$state","$rootScope","$scope","$document","$timeout","notificationService","spellService","characterService","CLASSES",function(e,n,a,l,t,r,o,i,s,c){var d=this;function p(){d.otherSpellsCount=0;var e=i.getSpellsSplited();return d.total=Object.entries(e).reduce((function(e,n){return e+n[1].length}),0),d.total||(d.otherSpellsCount=i.getSpellsCountByFilter()),e}e.debug("SpellbookSpellListController create"),d.$onInit=function(){e.debug("SpellbookSpellListController init"),s.getSelectedCharacter()||n.go("spellbook.characters"),d.classes=c,d.classSelected=s.getSelectedCharacter().class,d.setClass(),o.subscribe(l,o.FILTER_CHANGED,(function(){d.spells=p()})),o.subscribe(l,o.FILTER_ONLY_CLASS_SPELLS_CHANGED,(function(n,a){e.debug("SpellbookSpellListController notificationService.FILTER_ONLY_CLASS_SPELLS_CHANGED",a),a?(d.classSelected=s.getSelectedCharacter().class,d.setClass()):d.classToAll()})),r((function(){angular.element(".selectpicker").selectpicker("refresh")})),window.performance&&ga("send","timing","Transition","onInit",Math.round(performance.now())-a.onStartTime,n.current.name)},d.chooseSpell=function(e){i.showSpell(e.name)},d.search=function(){e.debug("SpellbookSpellListController ctrl.search",d.filter),d.spells=p()},d.setClass=function(){e.debug("SpellbookSpellListController ctrl.search",d.classSelected),i.setClass(d.classSelected),d.search()},d.classToAll=function(){d.classSelected="all",d.setClass()},d.click=function(){var e=t.scrollTop();r(t.scrollTop(e))}}],bindings:{spells:"<",className:"<"}},x={template:a("HT+c"),controller:["$log","$rootScope","$state","characterService","spellbookService","spellService",function(e,n,a,l,t,r){e.debug("SpellbookBookController create");var o=this;function i(){o.total=Object.entries(o.book).reduce((function(e,n){return e+n[1].length}),0)}function s(n,a,l){e.debug("addSpell 1",l,a),t.addSpell(a,l,void 0,n)}o.$onInit=function(){e.debug("AppController init"),l.getSelectedCharacter()?(o.prepared=l.getSelectedCharacter().prepared,o.book=l.getSelectedCharacter().book,Object.entries(o.book).forEach((function(e){e[1].sort();var n=[];o.book[e[0]]=e[1].filter((function(e){var a=!n.includes(e);return n.push(e),a}))}))):a.go("spellbook.characters"),l.persist(),i(),window.performance&&ga("send","timing","Transition","onInit",Math.round(performance.now())-n.onStartTime,a.current.name)},o.chooseSpell=function(e){r.showSpell(e)},o.delete=function(n,a){e.debug("SpellbookBookController ctrl.delete",n,a),l.getSelectedCharacter().book[n].splice(a,1),l.persist(),i()},o.addSpell=function(n,a){e.debug("ctrl.addSpell",o.collapseName,a),s(n,a,{name:a})},o.addSpellAsDomain=function(n,a){e.debug("ctrl.addSpellAsDomain",a),s(n,a,{name:a,domain:!0})},o.addSpellAsSpecial=function(n,a){e.debug("ctrl.addSpellAsSpecial",a),s(n,a,{name:a,special:!0})},o.isSpellPrepared=function(e){if(l.getSelectedCharacter().prepared){if(l.getSelectedCharacter().preparedSpells)return Object.entries(l.getSelectedCharacter().preparedSpells).reduce((function(n,a){return n+a[1].spells.reduce((function(n,a){return n+(a.name===e?1:0)}),0)}),0)}else if(l.getSelectedCharacter().knownSpells)return Object.entries(l.getSelectedCharacter().knownSpells).reduce((function(n,a){return n||a[1].spells.reduce((function(n,a){return n||a.name===e}),!1)}),!1);return!1}}],bindings:{spells:"<",className:"<"}},A={template:a("PKSm"),controller:["notificationService","filterService","spellService","$window","$timeout","$state","$scope","$rootScope","$log","CLASSES",function(e,n,a,l,t,r,o,i,s,c){s.debug("MainController create");var d=this;function p(){d.otherSpellsCount=0;var e=a.getSpellsSplited();return d.total=Object.entries(e).reduce((function(e,n){return e+n[1].length}),0),d.total||(d.otherSpellsCount=a.getSpellsCountByFilter()),e}var h=l.localStorage,u="SELECTED_CLASS";d.$onInit=function(){s.debug("AppController init"),d.classes=c;var n=JSON.parse(h.getItem(u));d.classSelected=n&&c[n]?n:"wizard",d.setClass(),e.subscribe(o,e.FILTER_CHANGED,(function(){d.spells=p()})),window.performance&&ga("send","timing","Transition","onInit",Math.round(performance.now())-i.onStartTime,r.current.name)},d.search=function(){s.debug("AppController ctrl.search",d.filter),d.spells=p()},d.setClass=function(){a.setClass(d.classSelected),h.setItem(u,JSON.stringify(d.classSelected)),d.search(),t((function(){angular.element(".selectpicker").selectpicker("refresh")}))},d.classToAll=function(){d.classSelected="all",d.setClass()}}]},T=a("B9Kl"),M={template:a("kff8"),controller:["$log","$rootScope","$state",function(e,n,a){e.debug("LicenseController create");var l=this;l.$onInit=function(){e.debug("LicenseController init"),l.legal="<div>".concat(T,"</div>"),window.performance&&ga("send","timing","Transition","onInit",Math.round(performance.now())-n.onStartTime,a.current.name)}}]};a("9cxR");var R={template:a("MiZw"),controller:["$log","$rootScope","$state",function(e,n,a){e.debug("SpellController create");var l=this;l.$onInit=function(){l.root=n;var t=angular.element("#exampleModal");e.debug("Modal popup",t),t.on("hidden.bs.modal",(function(){n.newstate?a.go(n.newstate):a.go("list")})),t.on("show.bs.modal",(function(){e.debug("Modal popup",l.spell),l.root=n})),t.modal("show"),window.performance&&ga("send","timing","Transition","onInit",Math.round(performance.now())-n.onStartTime,a.current.name)}}],bindings:{spell:"<",prevstate:"<"}},I=a("Q+Mc"),D={template:a("2oF0"),controller:["$log","$rootScope","$state",function(e,n,a){e.debug("AboutController create");var l=this;l.$onInit=function(){e.debug("AboutController init"),l.about="<div>".concat(I,"</div>"),window.performance&&ga("send","timing","Transition","onInit",Math.round(performance.now())-n.onStartTime,a.current.name)}}]},H=angular.module("pages.components",[]);H.component("spellbook",S),H.component("characters",y),H.component("newcharacter",P),H.component("prepared",$),H.component("known",w),H.component("spellbookSpelllist",L),H.component("spellbookBook",x),H.component("main",A),H.component("license",M),H.component("spell",R),H.component("about",D),a("QFgh"),a("87dM"),a("NxeQ"),a("XZG1");var O={template:a("wl6r"),controller:["$log",function(e){this.$onInit=function(){e.debug("AppController init")}}]},B=a("M55E");"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/service-worker.js").then((function(e){console.log("SW registered: ",e)})).catch((function(e){console.log("SW registration failed: ",e)}))})),angular.module("exceptionOverwrite",[]).factory("$exceptionHandler",["$log","$state",function(e,n){return function(a,l){e.error(a,l,n.$current.name),ga("send","event","exception",a.message,n.$current.name)}}]);var J=angular.module("scrollbearApp",["pages.components","app.components","app.constants","app.services","app.filters","ui.router","ui.bootstrap","ngSanitize","exceptionOverwrite"]);J.component("app",O),J.config(["$stateProvider","$locationProvider","$urlRouterProvider",function(e,n,a){e.state({name:"main",url:"/",template:"<ui-view></ui-view>",onEnter:["$rootScope",function(e){e.title="",e.description="Scrollbear spellbook reference for Pathfinder RPG."}]}),e.state({name:"list",url:"/",component:"main",onEnter:["$rootScope",function(e){e.title="",e.description="Scrollbear spellbook reference for Pathfinder RPG."}]}),e.state({name:"license",url:"/legal",component:"license"}),e.state({name:"about",url:"/about",component:"about"}),e.state({name:"spellbook",url:"/spellbook",component:"spellbook",onEnter:["$rootScope",function(e){e.title="Spellbook - ",e.description="Scrollbear spellbook reference for Pathfinder RPG."}]}).state({name:"spellbook.characters",url:"/characters",component:"characters"}).state({name:"spellbook.newcharacter",url:"/characters/new",component:"newcharacter"}).state({name:"spellbook.prepared",url:"/prepared",component:"prepared"}).state({name:"spellbook.known",url:"/known",component:"known"}).state({name:"spellbook.list",url:"/list",component:"spellbookSpelllist"}).state({name:"spellbook.book",url:"/book",component:"spellbookBook"}),e.state({name:"spells",url:"spells/:spellUrl",parent:"main",component:"spell",resolve:{spell:["$rootScope","spellService","$stateParams",function(e,n,a){var l=n.getSpellByUrl(a.spellUrl);e.title="".concat(l.name," - "),e.spell=l;var t,r,o=(t=l.description,r=new B.Converter({tables:!0,strikethrough:!0}),"<div>".concat(r.makeHtml(t),"</div>").replace(/<table>/g,"<div class='table-responsive'><table class='table table-sm'>").replace(/<\/table>/g,"</table></div>").replace(/<thead>/g,"<thead class='text-primary'>"));return e.description='"'.concat(l.name,'" Pathfinder spell from             ').concat(n.getPlainSpellSource(l.source),": ").concat(l.description),e.spellDescription=o,e.spellSource=n.getSpellSource(l.source),l}]}}),a.otherwise("/"),n.html5Mode(!0)}]),J.run(["$log","$transitions","$location","$state","$rootScope","sidebarService",function(e,n,a,l,t,r){window.performance&&ga("send","timing","JS Dependencies","load",Math.round(performance.now())),n.onStart({},(function(n){angular.element("#modalSpell").modal("hide"),angular.element(".modal-backdrop").remove(),angular.element("body").removeClass("modal-open"),e.debug("onStart Transition from ".concat(n.from().name," to ").concat(n.to().name)),window.performance&&(t.onStartTime=Math.round(performance.now()))})),n.onFinish({},(function(n){e.debug("onFinish Transition",n.params()),n.from().abstract||(window.ga("set","page",a.url()),window.ga("send","pageview")),r.disableSidebar(),window.performance&&ga("send","timing","Transition","onFinish",Math.round(performance.now())-t.onStartTime,n.to().name)})),n.onStart({to:"main"},(function(e){return e.router.stateService.target("list")})),n.onStart({to:"spellbook"},(function(n){return e.debug("onStart Transition from ".concat(n.from().name," to ").concat(n.to().name)),n.router.stateService.target("spellbook.characters")}))}])},LVIG:function(e,n){angular.module("app.services").factory("notificationService",["$rootScope","$log",function(e,n){return{FILTER_CHANGED:"Filter:Changed",FILTER_ONLY_CLASS_SPELLS_CHANGED:"FilterOnlyClass:Changed",subscribe:function(n,a,l){var t=e.$on(a,l);n.$on("$destroy",t)},notify:function(a,l){n.debug("NotificationService.notify",a,l),e.$emit(a,l)}}}])},MiZw:function(e,n){e.exports='<div class="card">\n  <div class="modal-content">\n    <div class="modal-header">\n      <h1 class="modal-title" id="exampleModalLabel">\n        <a ui-sref="main" class="mr-2 text-primary" id="spellFav">\n          <i class="fas fa-home push-shadow"></i>\n          <div class="ripple-container"></div>\n        </a>\n        {{$ctrl.root.spell.name}}\n      </h1>\n    </div>\n    <div class="modal-body">\n      <div>\n        <div class="spell-description">\n          <p><b>School </b> {{$ctrl.root.spell.school}}<span ng-if="$ctrl.root.spell.subschool"> ({{$ctrl.root.spell.subschool}})</span><span ng-if="$ctrl.root.spell.descripters.length"> [{{$ctrl.root.spell.descripters | array}}]</span>;\n            <b>Level </b><span>{{$ctrl.root.spell.levels | array}}</span></p>\n          <p><b>Casting Time </b> {{$ctrl.root.spell.castingTime}}</p>\n          <p><b>Components </b> {{$ctrl.root.spell.components | array}}</p>\n          <p><span ng-if="$ctrl.root.spell.range"><b>Range </b>{{$ctrl.root.spell.range}}</span></p>\n          <p><span ng-if="$ctrl.root.spell.area"><b>Area </b>{{$ctrl.root.spell.area}}</span></p>\n          <p><span ng-if="$ctrl.root.spell.target"><b>Target </b>{{$ctrl.root.spell.target}}</span></p>\n          <p><span ng-if="$ctrl.root.spell.targets"><b>Targets </b>{{$ctrl.root.spell.targets}}</span></p>\n          <p><span ng-if="$ctrl.root.spell.effect"><b>Effect </b>{{$ctrl.root.spell.effect}}</span></p>\n          <p><span ng-if="$ctrl.root.spell.duration"><b>Duration </b>{{$ctrl.root.spell.duration}}</span></p>\n          <p><span ng-if="$ctrl.root.spell.savingThrow"><b>Saving Throw </b>{{$ctrl.root.spell.savingThrow}}; <b>Spell Resistance </b>{{$ctrl.root.spell.spellResistance}}</span></p>\n        </div>\n        <ng-bind-html ng-bind-html="$ctrl.root.spellDescription"></ng-bind-html>\n      </div>\n    </div>\n    <div class="modal-footer">\n      <div ng-if="$ctrl.root.spellSource"><small>\n          <ng-bind-html ng-bind-html="$ctrl.root.spellSource"></ng-bind-html>\n        </small></div>\n    </div>\n  </div>\n</div>\n'},NxeQ:function(e,n){var a=angular.module("app.constants",[]);a.constant("CLASSES",{all:{name:"All"},alchemist:{name:"Alchemist",search:["alchemist"]},antipaladin:{name:"Antipaladin",search:["antipaladin"]},arcanist:{name:"Arcanist",search:["arcanist","wizard","sorcerer"]},bard:{name:"Bard",search:["bard"]},bloodrager:{name:"Bloodrager",search:["bloodrager"]},cleric:{name:"Cleric",search:["cleric"]},druid:{name:"Druid",search:["druid"]},hunter:{name:"Hunter",search:["hunter","druid","ranger"]},inquisitor:{name:"Inquisitor",search:["inquisitor"]},investigator:{name:"Investigator",search:["investigator","alchemist"]},magus:{name:"Magus",search:["magus"]},medium:{name:"Medium",search:["medium"]},mesmerist:{name:"Mesmerist",search:["mesmerist"]},occultist:{name:"Occultist",search:["occultist"]},oracle:{name:"Oracle",search:["oracle","cleric"]},paladin:{name:"Paladin",search:[/^paladin/gi]},psychic:{name:"Psychic",search:["psychic"]},ranger:{name:"Ranger",search:["ranger"]},shaman:{name:"Shaman",search:["shaman"]},skald:{name:"Skald",search:["bard","skald"]},sorcerer:{name:"Sorcerer",search:["sorcerer"]},spiritualist:{name:"Spiritualist",search:["spiritualist"]},summoner:{name:"Summoner",search:[/^summoner/gi]},"summoner (unchained)":{name:"Summoner Unchained",search:[/summoner \(unchained\)/gi]},warpriest:{name:"Warpriest",search:["warpriest","cleric"]},witch:{name:"Witch",search:["witch"]},wizard:{name:"Wizard",search:["wizard","sorcerer"]}}),a.constant("SCHOOLS",{any:{name:"Any school",search:function(){return!0}},abjuration:{name:"Abjuration",search:["abjuration"]},conjuration:{name:"Conjuration",subschool:["any","calling","creation","healing","summoning","teleportation"],search:["conjuration"]},divination:{name:"Divination",subschool:["any","scrying"],search:["divination"]},enchantment:{name:"Enchantment",subschool:["any","charm","compulsion"],search:["enchantment"]},evocation:{name:"Evocation",search:["evocation"]},illusion:{name:"Illusion",subschool:["any","figment","glamer","pattern","phantasm","shadow"],search:["illusion"]},necromancy:{name:"Necromancy",search:["necromancy"]},transmutation:{name:"Transmutation",subschool:["any","polymorph"],search:["transmutation"]},other:{name:"Other shools",search:function(e){return!["transmutation","conjuration","evocation","enchantment","abjuration","necromancy","divination","illusion"].includes(e.school)}}}),a.constant("SUBSCHOOLS",{any:{name:"Any subschool",search:function(){return!0}},calling:{name:"Calling",search:["calling"]},charm:{name:"Charm",search:["charm"]},compulsion:{name:"Compulsion",search:["compulsion"]},creation:{name:"Creation",search:["creation"]},figment:{name:"Figment",search:["figment"]},glamer:{name:"Glamer",search:["glamer"]},healing:{name:"Healing",search:["healing"]},pattern:{name:"Pattern",search:["pattern"]},phantasm:{name:"Phantasm",search:["phantasm"]},polymorph:{name:"Polymorph",search:["polymorph"]},scrying:{name:"Scrying",search:["scrying"]},shadow:{name:"Shadow",search:["shadow"]},summoning:{name:"Summoning",search:["summoning"]},teleportation:{name:"Teleportation",search:["teleportation"]}}),a.constant("CASTING_TIME",{any:{name:"Any casting time",search:function(){return!0}},"1 standard action":{name:"1 standard action",search:["1 standard action"]},"1 immediate action":{name:"1 immediate action",search:["1 immediate action"]},"1 swift action":{name:"1 swift action",search:["1 swift action"]},"1 full-round action":{name:"1 full-round action",search:["1 full-round action","1 full-round action, special see below"]},"1 round":{name:"1 round",search:["1 round","1 full round"]},"3 rounds":{name:"3 rounds",search:["3 rounds"]},"10 minutes":{name:"10 minutes",search:["10 minutes","10 minutes see text","10 minutes (see text)"]},"30 minutes":{name:"30 minutes",search:["30 minutes"]},"1 hour":{name:"1 hour",search:["1 hour"]},"8 hours":{name:"8 hours",search:["8 hours"]},"24 hours":{name:"24 hours",search:["24 hours"]},other:{name:"Other casting time",search:function(e){return!["1 standard action","1 immediate action","1 swift action","1 full-round action","1 round","1 full round","3 rounds","10 minutes","30 minutes","1 hour","8 hours","24 hours"].includes(e.school)}}}),a.constant("METAMAGIC",["Apocalyptic Spell","Aquatic Spell","Ascendant Spell","Authoritative Spell","Benthic Spell","Blissful Spell","Bouncing Spell","Brackish Spell","Brisk Spell","Burning Spell","Centered Spell","Cherry Blossom Spell","Coaxing Spell","Concussive Spell","Conditional Spell","Consecrate Spell","Contagious Spell","Contingent Spell","Crypt Spell","Dazing Spell","Delayed Spell","Disruptive Spell","Echoing Spell","Eclipsed Spell","Ectoplasmic Spell","Elemental Spell","Empower Spell","Encouraging Spell","Enlarge Spell","Extend Spell","Familiar Spell","Fearsome Spell","Flaring Spell","Fleeting Spell","Focused Spell","Furious Spell","Heighten Spell","Intensified Spell","Intuitive Spell","Jinxed Spell","Latent Curse","Lingering Spell","Logical Spell","Maximize Spell","Merciful Spell","Murky Spell","Persistent Spell","Piercing Spell","Quicken Spell","Reach Spell","Rime Spell","Scarring Spell","Scouting Summons","Seeking Spell","Selective Spell","Shadow Grasp","Sickening Spell","Silent Spell","Snuffing Spell","Solar Spell","Solid Shadows","Stable Spell","Steam Spell","Still Spell","Studied Spell","Stygian Spell","Stylized Spell","Tenacious Spell","Tenebrous Spell","Thanatopic Spell","Threatening Illusion","Threnodic Spell","Thundering Spell","Toppling Spell","Toxic Spell","Traumatic Spell","Trick Spell","Tumultuous Spell","Umbral Spell","Ursurping Spell","Vast Spell","Verdant Spell","Widen Spell","Yai-Mimic Spell"]),a.constant("SOURCE_BOOK",["PRPG Core Rulebook","Advanced Class Guide","Advanced Player's Guide","Advanced Race Guide","Occult Adventures","Ultimate Combat","Ultimate Intrigue","Ultimate Magic","Advanced Class Origins","Adventurer's Armory 2","Adventurer's Guide","Agents of Evil","Animal Archive","Aquatic Adventures","Arcane Anthology","Armor Master's Handbook","Black Markets","Blood of Shadows","Blood of the Ancients","Blood of the Beast","Blood of the Coven","Blood of the Elements","Blood of the Moon","Blood of the Night","Blood of the Sea","Book of the Damned","Book of the Damned - Volume 3: Horsemen of the Apocalypse","Champions of Balance","Champions of Corruption","Champions of Purity","Cheliax, Empire of Devils","Chronicle of the Righteous","Classic Treasures Revisited","Cohorts and Companions","Conquest of Bloodsworn Vale","Curse of the Crimson Throne (PFRPG)","Dark Markets - A Guide to Katapesh","Demon Hunter's Handbook","Demons Revisited","Dirty Tactics Toolbox","Disciple's Doctrine","Distant Realms","Divine Anthology","Dragon Empires Primer","Dragonslayer's Handbook","Dungeon Denizens Revisited","Dungeoneer's Handbook","Dungeons of Golarion","Dwarves of Golarion","Elemental Master's Handbook","Faction Guide","Faiths and Philosophies","Faiths of Corruption","Faiths of Purity","Familiar Folio","GameMastery Condition Cards","Giant Hunter's Handbook","Gnomes of Golarion","Goblins of Golarion","Gods and Magic","Guardians of Dragonfall","Guide to the River Kingdoms","Haunted Heroes Handbook","Healer's Handbook","Hell's Vengeance Player's Guide","Heroes from the Fringe","Heroes of the Darklands","Heroes of the High Court","Heroes of the Streets","Heroes of the Wild","Horror Adventures","Humans of Golarion","Inner Sea Gods","Inner Sea Intrigue","Inner Sea Magic","Inner Sea Monster Codex","Inner Sea Races","Inner Sea Temples","Inner Sea World Guide","Knights of the Inner Sea","Kobolds of Golarion","Lands of the Linnorm Kings","Legacy of Dragons","Legacy of the First World","Lost Kingdoms","Magical Marketplace","Magic Tactics Toolbox","Melee Tactics Toolbox","Monster Codex","Monster Hunter's Handbook","Monster Summoner's Handbook","Mythic Adventures","Mythic Origins","Occult Mysteries","Occult Origins","Occult Realms","Orcs of Golarion","Osirion, Legacy of the Pharaohs","Paizo Blog - Ultimate Cantrips","Pathfinder #102: Breaking the Bones of Hell","Pathfinder #107: Scourge of the Godclaw","Pathfinder #110: The Thrushmoor Terror","Pathfinder #113: What Grows Within","Pathfinder #115: Trail of the Hunted","Pathfinder #116: Fangs of War","Pathfinder #117: Assault on Longshadow","Pathfinder #119: Prisoners of the Blight","Pathfinder #131: The Reaper's Right Hand","Pathfinder #134: It Came from Hollow Mountain","Pathfinder #14: Children of the Void","Pathfinder #19: Howl of the Carrion King","Pathfinder #24: The Final Wish","Pathfinder #29: Mother of Flies","Pathfinder #30: The Twice-Damned Prince","Pathfinder #35: War of the River Kings","Pathfinder #42: Sanctum of the Serpent God","Pathfinder #55: The Wormwood Mutiny","Pathfinder #56: Raiders of the Fever Sea","Pathfinder #62: Curse of the Lady's Light","Pathfinder #64: Beyond the Doomsday Door","Pathfinder #65: Into the Nightmare Rift","Pathfinder #67: The Snows of Summer","Pathfinder #68: The Shackled Hut","Pathfinder #69: Maiden, Mother, Crone","Pathfinder #71: Rasputin Must Die!","Pathfinder #74: Sword of Valor","Pathfinder #77: Herald of the Ivory Labyrinth","Pathfinder #78: City of Locusts","Pathfinder #80: Empty Graves","Pathfinder #81: Shifting Sands","Pathfinder #82: Secrets of the Sphinx","Pathfinder #84: Pyramid of the Sky Pharaoh","Pathfinder #86: Lords of Rust","Pathfinder #89: Palace of Fallen Stars","Pathfinder #91: Battle of Bloodmarch Hills","Pathfinder #93: Forge of the Giant God","Pathfinder #95: Anvil of Fire","Pathfinder Campaign Setting","Pathfinder Comics #10","Pathfinder Society Field Guide","Pathfinder Society Primer","Paths of the Righteous","People of the River","People of the Sands","People of the Stars","People of the Wastes","Pirates of the Inner Sea","Planar Adventures","Plane-Hopper's Handbook","Planes of Power","Potions and Poisons","Psychic Anthology","Qadira, Jewel of the East","Quests and Campaigns","Ranged Tactics Toolbox","Rise of the Runelords Anniversary Edition","Rival Guide","Sargava, the Lost Colony","Second Darkness Player's Guide","Seekers of Secrets","Spymaster's Handbook","Taldor, Echoes of Glory","Technology Guide","The Dragon's Demand","The First World, Realm of the Fey","The Harrow Handbook","Ultimate Wilderness","Undead Slayer's Handbook","Villain Codex","Wilderness Origins"])},PKSm:function(e,n){e.exports='<div class="card">\n  <div class="card-header">\n    <form ng-submit="$ctrl.search()">\n      <div class="form-row">\n        <select class="col selectpicker" ng-change="$ctrl.setClass()" name="classSelect" id="classSelect" ng-model="$ctrl.classSelected"\n        ng-options="key as value.name for (key , value) in $ctrl.classes"></select>\n      </div>\n    </form>\n    <filter></filter>\n  </div>\n  <div class="card-body">\n    <spell-list spells="$ctrl.spells" class-name="$ctrl.classSelected"></spell-list>\n    <button ng-if="$ctrl.otherSpellsCount" ng-click="$ctrl.classToAll()" class=\'btn btn-warning\'>Found <strong>{{$ctrl.otherSpellsCount}}</strong> spell{{$ctrl.otherSpellsCount!=1?\'s\':\'\'}} in other classes</button>\n  </div>\n  <div class="card-footer">\n    <div class="container">\n      <span class="float-right">\n        Total: {{$ctrl.total}}\n      </span>\n    </div>\n  </div>\n</div>\n<ui-view></ui-view>\n'},"Q+Mc":function(e,n){e.exports='<h2 id="site">Site</h2>\n<p>I&#39;m trying to make a fast reliable site with all the official spells for Pathfinder Roleplaying Game. Handy for desktop or mobile usage with offline access.</p>\n<h3 id="spells">Spells</h3>\n<p><a href="/">Spells</a>: complete list of spells with filters (search by name, class, school etc.) and with possibility to add to favorites. More filters are coming!</p>\n<h3 id="spellbook">Spellbook</h3>\n<p><a href="spellbook/characters">Spellbook</a>: interactive list of prepared (or those that cast spontaneously) spells for your character. Spells can be selected from a list for a class, from complete list or from favorites. The number of prepared spells can be easily customized. And there is a history of cast spells for convenience of use.</p>\n<h2 id="support">Support</h2>\n<p>The site is completely free. And it will remain so forever.</p>\n<p>If you are interested in supporting this project please just share it with you friends or gaming community!</p>\n<h2 id="contacts">Contacts</h2>\n<p>You can contact me by</p>\n<ul>\n<li>Twitter: <a href="https://twitter.com/OwlbearDm">@OwlbearDm</a></li>\n<li>Email: <a href="mailto:owlbeardm@gmail.com?subject=Scrollbear:">owlbeardm@gmail.com</a></li>\n</ul>\n'},QFgh:function(e,n,a){angular.module("app.filters",[]),a("xODW")},RNwA:function(e,n){angular.module("app.services").factory("focusService",["$log","$timeout","$window",function(e,n,a){return{setFocus:function(e){n((function(){var n=a.document.getElementById(e);n&&n.focus()}))}}}])},TBcf:function(e,n,a){var l=a("M55E"),t=a("kTu0");angular.module("app.services").factory("spellService",["$log","$window","$rootScope","filterService","CLASSES",function(e,n,a,r,o){var i={currentSpells:[],classSet:[],getAllSpells:function(){return i.currentSpells},getSpellsSplited:function(){console.time("SpellService.getSpellsSplited");var n=i.currentSpells.filter(r.filter);n.length<10&&e.debug(n);var a={};return n.forEach((function(e){var n=e.levels.reduce((function(e,n){var a=n.substring(0,n.length-2);if(!o[i.classSet].search||o[i.classSet].search.reduce((function(e,n){return e||-1!==a.search(n)}),!1)){var l=n.substring(n.length-1);if(!e||l<e)return l}return e}),void 0);n&&(a[n]||(a[n]=[]),a[n].push(e))})),console.timeEnd("SpellService.getSpellsSplited"),a},setClass:function(e){console.time("SpellService.setClass"),i.classSet=e,i.currentSpells=t.filter((function(n){return!!n.levels&&n.levels.reduce((function(n,a){var l=a.substring(0,a.length-2),t=!o[e].search||o[e].search.reduce((function(e,n){return e||-1!==l.search(n)}),!1);return n||t}),!1)})),console.timeEnd("SpellService.setClass")},getSpellByUrl:function(e){return t.find((function(n){return i.spellNameToUrl(n.name)===e}))},spellNameToUrl:function(e){return e.toLowerCase().trim().replace(/[.*+?^$ ,{}()|[\]\\/]/g,"-").replace(/[â]/g,"_")},getSpellsCountByFilter:function(){return t.filter(r.filter).length},showSpell:function(e){var n=t.find((function(n){return n.name===e}));a.spell=n,a.description=n.description,a.spellDescription=i.getSpellDescription(n.description),a.spellSource=i.getSpellSource(n.source),angular.element("#modalSpell").modal("show")},getSpellDescription:function(e){var n=new l.Converter({tables:!0,strikethrough:!0}),a="<div>".concat(n.makeHtml(e),"</div>");return a.replace(/<table>/g,"<div class='table-responsive'><table class='table table-sm'>").replace(/<\/table>/g,"</table></div>").replace(/<thead>/g,"<thead class='text-primary'>")},getSpellSource:function(e){var n=new l.Converter({tables:!0,strikethrough:!0});return"<div>".concat(n.makeHtml(e),"</div>")},getPlainSpellSource:function(e){var n=e.indexOf(" pg. ");return-1===n?e:e.substring(2,n)}};return i}])},TtU3:function(e,n,a){e.exports=a.p+"29c29b1671ae5a81d788b944e8611181.png"},VLoA:function(e,n){e.exports='<a class="badge text-muted mr-4" role="button" data-toggle="modal" data-target=".history-modal" ng-click="$ctrl.changeHistory()">\n  <i class="fas fa-3x fa-history push-shadow"></i>\n</a>\n\n<div class="modal fade history-modal" id="modalHistory" tabindex="-1" role="dialog" aria-labelledby="modalHistoryLabel" aria-hidden="false">\n  <div class="modal-dialog " role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <td class="float-right">\n        </td>\n        <h3 class="modal-title" id="modalSpellLabel">\n          Spellcasting history\n        </h3>\n        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n          <span class="fas fa-times"></span>\n        </button>\n      </div>\n      <div class="modal-body">\n        <div ng-if=\'!$ctrl.history || !$ctrl.history.length\' class="alert alert-info" role="alert">\n          No spells were cast today.\n        </div>\n\n        <table class="table table-sm">\n          <tbody>\n            <tr ng-repeat="history in $ctrl.history | orderBy:\'-\' track by $index">\n              <td ng-if="!history.reset">\n                <i class="text-primary fas fa-scroll">\n              </td>\n              <td ng-if="history.reset">\n                <i class="text-muted fas fa-undo-alt ml-1">\n              </td>\n              <td ng-if="!history.reset">\n                Level {{history.level}}: {{history.name}}\n              </td>\n              <td ng-if="history.reset && history.spontaneous">\n                Reset slot: Level {{history.level}}\n              </td>\n              <td ng-if="history.reset && history.prepared">\n                Reset Level {{history.level}}: {{history.name}}\n              </td>\n            </tr>\n          </tbody>\n        </table>\n        \x3c!-- <i class="text-primary fas fa-scroll"></i> Level 2: Acid splash<br> --\x3e\n                \x3c!-- <i class="text-primary fas fa-undo-alt"></i> Reset Level 2 slot<br> --\x3e\n      </div>\n      <div class="modal-footer">\n        <button type="button" class="btn" data-dismiss="modal">Close</button>\n      </div>\n    </div>\n  </div>\n</div>\n'},X5G1:function(e,n){e.exports='<div ng-if=\'!$ctrl.characters.length\' class="alert alert-info" role="alert">\n  There are no characters!\n</div>\n\n<div class="list-group characters">\n  <character-item ng-repeat="character in $ctrl.characters track by $index" character="character" selected="$ctrl.characterSelected() == $index" id="$index"></character-item>\n</div>\n\n<button class=\'btn btn-success\' ng-click="$ctrl.add()">Add new character</button>\n'},XAXJ:function(e,n){e.exports='<div class="sidebar" data-color="purple" data-background-color="white">\n  <div class="logo">\n    <a href="https://owlbeardm.com/" class="simple-text logo-normal">\n      OwlbearDM\n    </a>\n  </div>\n\n  <div class="sidebar-wrapper">\n    <ul class="nav">\n      <li class="nav-item" ui-sref-active="active">\n        <a class="nav-link navbar-toggler" ui-sref="list" >\n          <i class="fas fa-scroll"></i>\n          <p>\n            Spells\n          </p>\n        </a>\n      </li>\n      <li class="nav-item" ui-sref-active="active">\n        <a class="nav-link" ui-sref="spellbook">\n          <i class="fas fa-user"></i>\n          <p>\n            Characters\n          </p>\n        </a>\n      </li>\n      <li class="nav-item" ui-sref-active="active">\n        <a class="nav-link" ui-sref="license">\n          <i class="fas fa-file-alt"></i>\n          <p>\n            License\n          </p>\n        </a>\n      </li>\n      <li class="nav-item" ui-sref-active="active">\n        <a class="nav-link" ui-sref="about">\n          <i class="fas fa-info-circle"></i>\n          <p>\n            About\n          </p>\n        </a>\n      </li>\n    </ul>\n  </div>\n  <div class="sidebar-background"></div>\n</div>\n'},ZI5w:function(e,n){e.exports='\x3c!-- <div class="modal fade show" id="modalMetamagic" tabindex="-1" role="dialog" aria-labelledby="modalMetamagicLabel" aria-hidden="false"> --\x3e\n\x3c!-- <div class="modal-dialog modal-lg" role="document"> --\x3e\n\x3c!-- <div class="modal-content"> --\x3e\n<div class="modal-header">\n  <h3 class="modal-title" id="modalMetamagicLabel">\n    Add with Metamagic\n  </h3>\n  <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n    <span class="fas fa-times"></span>\n  </button>\n</div>\n<div class="modal-body">\n  <form>\n    <div class=\'form-row\'>\n      <div class=\'col\'>\n        Final level:\n      </div>\n      <div class=\'col\'>\n        <select class="form-row selectpicker" ng-change="$ctrl.setCastingTime()" name="castingTimeSelect" id="castingTimeSelect" ng-model="$ctrl.finalLevel" ng-options="key as key for key in $ctrl.levels">\n        </select>\n      </div>\n    </div>\n  </form>\n</div>\n<div class="modal-footer">\n  <button type="button" class="btn" data-dismiss="modal">Close</button>\n</div>\n\x3c!-- </div>\n  </div>\n</div> --\x3e\n'},aTH2:function(e,n){e.exports='<form name="addCharacterForm" ng-submit="$ctrl.add()">\n  <div class="form-group label-floating bmd-form-group" ng-class="{\'has-danger\': addCharacterForm.name.$dirty && (!$ctrl.name || $ctrl.isNameExists), \'has-success\': addCharacterForm.name.$dirty && $ctrl.name && !$ctrl.isNameExists}">\n    <label class="control-label bmd-label-static" for="classSelect">Name</label>\n    <input id=\'name\' name="name" type="text" ng-model=\'$ctrl.name\' ng-change=\'$ctrl.checkIfNameExists()\' class="form-control">\n    <span class="form-control-feedback">\n      <i class="material-icons" ng-if="addCharacterForm.name.$dirty && (!$ctrl.name || $ctrl.isNameExists)">clear</i>\n      <i class="material-icons" ng-if="addCharacterForm.name.$dirty && $ctrl.name && !$ctrl.isNameExists">done</i>\n    </span>\n    <label id="name-empy-error" ng-class="{\'error\': addCharacterForm.name.$dirty}" ng-if=\'!$ctrl.name\' for="name">This field is required.</label>\n    <label id="name-double-error" ng-if="$ctrl.isNameExists" class="error" for="name">Character with this name already exists.</label>\n  </div>\n  <div class="form-group">\n    <div class="form-check form-check-radio">\n      <label class="form-check-label text-dark">\n        <input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios1" ng-model="$ctrl.prepared" ng-value="false">\n        Spontaneous casting\n        <span class="circle">\n          <span class="check"></span>\n        </span>\n      </label>\n    </div>\n    <div class="form-check form-check-radio">\n      <label class="form-check-label text-dark">\n        <input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios2" ng-model="$ctrl.prepared" ng-value="true">\n        Prepared casting\n        <span class="circle">\n          <span class="check"></span>\n        </span>\n      </label>\n    </div>\n  </div>\n  <div class="form-group">\n    <div class="form-check">\n      <label class="form-check-label text-dark">\n        <input class="form-check-input" type="checkbox" ng-model="$ctrl.spellbook">\n        Include spellbook (witch\'s familiar, etc)\n        <span class="form-check-sign">\n          <span class="check"></span>\n        </span>\n      </label>\n    </div>\n  </div>\n  <div class="form-group label-floating bmd-form-group">\n    <label class="control-label bmd-label-static" for="classSelect">Class</label>\n    <select class="form-control" name="classSelect" id="classSelect" ng-model="$ctrl.classSelected">\n      <option ng-repeat="(key, value) in $ctrl.classes" value="{{key}}">{{value.name}}</option>\n    </select>\n    <label id="name-empy-error" ng-class="{\'error\': addCharacterForm.classSelect.$dirty}" ng-if=\'!$ctrl.classSelected\' for="classSelect">This field is required.</label>\n  </div>\n  <div class="form-group">\n    \x3c!-- ng-disabled="addPcForm.$invalid" --\x3e\n    <button type="submit" class="btn btn-primary" ng-disabled=\'!$ctrl.classSelected || !$ctrl.name || $ctrl.isNameExists\'>Add</button>\n    <button type="button" class="btn btn-danger" ng-click="$ctrl.goBack()">Cancel</button>\n  </div>\n</form>\n'},dlRy:function(e,n){angular.module("app.services").factory("sidebarService",["$log","$document","$interval",function(e,n,a){var l={sidebarEnabled:!1,toggleSidebar:function(){l.sidebarEnabled?l.disableSidebar():l.enableSidebar()},enableSidebar:function(){n.find("html").addClass("nav-open"),a((function(){n.find(".navbar-toggler").addClass("toggled")}),430,1);var e=angular.element('<div class="close-layer"></div>');0!==n.find("body").find(".main-panel").length?n.find("body").find(".main-panel").append(e):n.find("body").hasClass("off-canvas-sidebar")&&n.find(".wrapper-full-page").append(e),a((function(){e.addClass("visible")}),100,1),e.click((function(){l.disableSidebar()})),l.sidebarEnabled=!0},disableSidebar:function(){n.find("html").removeClass("nav-open"),n.find(".close-layer").removeClass("visible"),a((function(){n.find(".close-layer").remove(),n.find(".toggled").removeClass("toggled")}),400,1),l.sidebarEnabled=!1}};return l}])},"g+cT":function(e,n){e.exports='<div ng-if=\'!$ctrl.total\' class="alert alert-info" role="alert">\n  There are no prepared spells! You can add ones from <a ui-sref="spellbook.list" class="alert-link">spell list</a>.\n</div>\n\n<history ng-if=\'$ctrl.total\' class=\'float-right mt-2\'></history>\n<button ng-if=\'$ctrl.total\' ng-click="$ctrl.resetCast()" class=\'btn btn-primary mb-3 float-right mr-4\'>\n  \x3c!-- <i class="fas fa-redo mr-1"></i>  --\x3e\n  Reset spell slots\n</button>\n\n<div ng-if=\'$ctrl.total\' class="accordion" id="accordionExample">\n  <div ng-repeat="(key, value) in $ctrl.spells" class="card card-collapse">\n    <prepared-spell-level spell-level="value" level="key" index="$index"></prepared-spell-level>\n  </div>\n</div>\n'},gNSh:function(e,n){e.exports='<div id="list-new-{{$ctrl.collapseName}}" style="height:{{$ctrl.elementHeight}}px; padding-top:{{$ctrl.start*40}}px">\n  <table class="table table-sm">\n    <tbody>\n      <tr ng-repeat="spell in $ctrl.spellsL track by $index">\n        <td id="chooseSpell" ng-click="$ctrl.chooseSpell(spell)">\n          <a href="#" class="text-dark">\n            {{spell.name}}\n          </a>\n        </td>\n        <td class="float-right mb-1">\n          <a href="#" class="ml-2 mr-3" ng-if="$ctrl.prepared || !$ctrl.preparedL[$index]" ng-class="{\'text-primary\': $ctrl.prepared || !$ctrl.preparedL[$index], \'text-muted\': !$ctrl.prepared && $ctrl.preparedL[$index], \'disabled\': !$ctrl.prepared && $ctrl.preparedL[$index]}"\n            ng-click="$ctrl.addSpell(spell)">\n            <span class="badge badge-secondary" ng-if="$ctrl.prepared && $ctrl.preparedL[$index]"><small>{{$ctrl.preparedL[$index]}}</small></span>\n            <i class="fas fa-scroll push-shadow"></i>\n          </a>\n          <a href="#" class="ml-2 mr-3" ng-if="!($ctrl.prepared || !$ctrl.preparedL[$index])" ng-class="{\'text-primary\': $ctrl.prepared || !$ctrl.preparedL[$index], \'text-muted\': !$ctrl.prepared && $ctrl.preparedL[$index], \'disabled\': !$ctrl.prepared && $ctrl.preparedL[$index]}"\n            ng-click="$ctrl.addSpell(spell)">\n            <span class="badge badge-secondary" ng-if="$ctrl.prepared && $ctrl.preparedL[$index]"><small>{{$ctrl.preparedL[$index]}}</small></span>\n            <i class="fas fa-scroll push-shadow"></i>\n          </a>\n\n\n          <a href="#" ng-if="$ctrl.spellbook && !$ctrl.bookL[$index]" class="ml-2 mr-3" ng-class="{\'text-primary\': !$ctrl.bookL[$index], \'text-muted\': $ctrl.isInSpellBook(spell.name), \'disabled\': $ctrl.bookL[$index]}" ng-click="$ctrl.addToBook(spell)">\n            <i class="fas fa-book push-shadow"></i>\n          </a>\n          <a href="#" ng-if="$ctrl.spellbook && $ctrl.bookL[$index]" class="ml-2 mr-3" ng-class="{\'text-primary\': !$ctrl.bookL[$index], \'text-muted\': $ctrl.isInSpellBook(spell.name), \'disabled\': $ctrl.bookL[$index]}" ng-click="$ctrl.addToBook(spell)">\n            <i class="fas fa-book push-shadow"></i>\n          </a>\n          <div class="float-right dropleft">\n            <a href="#" class="ml-2 text-primary dropdown-toggle" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n              <i class="fas fa-chevron-circle-down push-shadow"></i>\n            </a>\n            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">\n              <a class="dropdown-item" href="#" ng-click="$ctrl.addSpellAsMetamagic(spell)">Prepare with metamagic</a>\n              <a class="dropdown-item" href="#" ng-click="$ctrl.addSpellAsDomain(spell)">Prepare as domain spell</a>\n              <a class="dropdown-item" href="#" ng-click="$ctrl.addSpellAsSpecial(spell)">Prepare as special slot spell</a>\n              \x3c!-- <a class="dropdown-item" href="#">Prepare at another level</a> --\x3e\n            </div>\n          </div>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n'},hAGq:function(e,n){e.exports='<div class="card-header" role="tab" id="heading{{$ctrl.index}}" data-toggle="collapse" href="#collapse{{$ctrl.index}}" aria-expanded="false" aria-controls="collapse{{$ctrl.index}}">\n  <h5 class="mb-0 text-primary">\n    <a>\n      Level {{$ctrl.level}}\n      <i class="float-right fas fa-chevron-down expanded-flip"></i>\n      \x3c!-- <button ng-if="$ctrl.level!=\'0\'" ng-if="!$ctrl.editMode" class="btn btn-sm btn-round float-right mr-4" ng-class="{\'btn-danger\': $ctrl.spellLevel.cast >= $ctrl.spellLevel.perDay, \'btn-success\': $ctrl.spellLevel.cast < $ctrl.spellLevel.perDay}" ng-click="$ctrl.cast($ctrl.level);$event.stopPropagation();">cast</button> --\x3e\n      <button ng-if="!$ctrl.editMode" ng-class="{\'mr-4\': $ctrl.level ==\'0\'}" class="btn btn-sm btn-round float-right mr-4" ng-click="$ctrl.edit();$event.stopPropagation();">edit</button>\n    </a>\n  </h5>\n  <div ng-if="!$ctrl.editMode" class=\'text-dark\'>\n    <small ng-class="{\'text-danger\': $ctrl.spellLevel.spells.length>$ctrl.spellLevel.known, \'text-warning\': $ctrl.spellLevel.spells.length<$ctrl.spellLevel.known}">Known <span >{{$ctrl.spellLevel.spells.length}}/{{$ctrl.spellLevel.known}}</span></small>\n    <small ng-if="$ctrl.level!=\'0\'" class=\'ml-2\' ng-class="{\'text-danger\': $ctrl.spellLevel.cast>=$ctrl.spellLevel.perDay}">Cast <span >{{$ctrl.spellLevel.cast}}/{{$ctrl.spellLevel.perDay}}</span></small>\n    \x3c!-- <button ng-if="$ctrl.level!=\'0\'" type="button" rel="tooltip" title="" class="btn btn-primary btn-link btn-sm" ng-click="$ctrl.restoreSlot($ctrl.level);$event.stopPropagation()"> --\x3e\n    <a class="text-muted" ng-class="{\'disabled\': $ctrl.spellLevel.cast<=0}" ng-if="$ctrl.level!=\'0\' ">\n      <i class="fas fa-undo-alt ml-1 push-shadow" ng-click="$ctrl.restoreSlot($ctrl.level);$event.stopPropagation()"></i>\n    </a>\n    \x3c!-- </button> --\x3e\n  </div>\n  <div class="mt-2" ng-if="$ctrl.editMode">\n    <form name="addCharacterForm" ng-submit="$ctrl.saveEdit()" ng-click="$event.stopPropagation();">\n      <div class="row">\n        <div class="form-group label-floating bmd-form-group col-6">\n          <label class="control-label bmd-label-static pl-3" for="classSelect">Spells Known</label>\n          <input id=\'known\' name="known" min=\'0\' step=\'1\' type="number" ng-model=\'$ctrl.known\' class="form-control">\n        </div>\n        <div ng-if="$ctrl.level!=\'0\'" class="form-group label-floating bmd-form-group col-6">\n          <label class="control-label bmd-label-static pl-3" for="perDay">Spells per Day</label>\n          <input id=\'perDay\' name="perDay" min=\'0\' step=\'1\' type="number" ng-model=\'$ctrl.perDay\' class="form-control">\n        </div>\n      </div>\n      <div class="form-group">\n        \x3c!-- ng-disabled="addPcForm.$invalid" --\x3e\n        <button type="submit" class="btn btn-success" ng-click="$ctrl.saveEdit();$event.stopPropagation();">Save</button>\n        <button type="button" class="btn btn-danger" ng-click="$ctrl.cancelEdit();$event.stopPropagation();">Cancel</button>\n      </div>\n    </form>\n  </div>\n</div>\n\n<div id="collapse{{$ctrl.index}}" ng-if="$ctrl.spellLevel.spells.length" class="collapse" role="tabpanel" aria-labelledby="heading{{$ctrl.index}}" data-parent="#accordionExample">\n  <div class="card-body">\n    <table class="table table-sm">\n      <tbody>\n        <tr ng-repeat="spell in $ctrl.spellLevel.spells track by $index">\n          <td ng-click="$ctrl.chooseSpell(spell)">\n            <a href="#" class="text-dark">\n              {{spell.name}}\n              <span ng-if="spell.domain" class="badge badge-primary ml-1" data-toggle="tooltip" data-placement="top" title="Domain">D</span>\n              <span ng-if="spell.special" class="badge badge-warning ml-1" data-toggle="tooltip" data-placement="top" title="Special">S</span>\n              <span ng-if="spell.metamagic" class="badge badge-info ml-1" data-toggle="tooltip" data-placement="top" title="Metamagic">M{{$ctrl.filteredLabels(spell.metamagicLabel).length?\':\':\'\'}} {{$ctrl.filteredLabels(spell.metamagicLabel) | array}}</span>\n            </a>\n            \x3c!-- <div><small class="text-info">{{spell.duration}}</small>; <small class="text-info">{{spell.savingThrow}}</small></div> --\x3e\n          </td>\n          <td class="float-right">\n            <a href="#" class="ml-2 mr-3 text-danger" ng-click="$ctrl.delete($ctrl.level, $index)">\n              <i class="fas fa-trash push-shadow"></i>\n            </a>\n          </td>\n          <td ng-if="$ctrl.level!=\'0\'" class="float-right">\n            <a href="#" class="ml-2 mr-3" ng-class="{\'text-success\': $ctrl.spellLevel.perDay > $ctrl.spellLevel.cast, \'text-muted disabled\': $ctrl.spellLevel.perDay <= $ctrl.spellLevel.cast}" ng-click="$ctrl.cast($ctrl.level, spell.name)">\n              <span class="badge badge-secondary" ng-if="$ctrl.spellLevel.perDay > $ctrl.spellLevel.cast"><small>{{$ctrl.spellLevel.perDay - $ctrl.spellLevel.cast}}</small></span>\n              <i class="fas fa-scroll push-shadow"></i>\n            </a>\n          </td>\n          \x3c!-- <td ng-if="$ctrl.level!=\'0\' && $ctrl.spellLevel.cast >= $ctrl.spellLevel.perDay" class="float-right">\n            <a href="#" class="ml-2 mr-3 text-muted" ng-click="$ctrl.restoreSlot($ctrl.level)">\n              <i class="fas fa-undo-alt push-shadow"></i>\n            </a>\n          </td> --\x3e\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</div>\n'},kff8:function(e,n){e.exports='<div class="card">\n  <div class="card-header card-header-primary">\n    <h2 class="card-title"><i class="fas fa-file-alt ml-2 mr-2"></i> Legal Information</h2>\n  </div>\n  <div class="card-body">\n    <ng-bind-html ng-bind-html="$ctrl.legal"></ng-bind-html>\n  </div>\n</div>\n'},lVom:function(e,n){function a(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var a=[],l=!0,t=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(l=(o=i.next()).done)&&(a.push(o.value),!n||a.length!==n);l=!0);}catch(e){t=!0,r=e}finally{try{l||null==i.return||i.return()}finally{if(t)throw r}}return a}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}angular.module("app.services").factory("migrationService",["$log",function(e){return{migrateCharacters:function(n){e.debug("Migration from characters"),n.forEach((function(e){e.prepared||e.knownSpells&&Object.entries(e.knownSpells).forEach((function(e){e[1].spells=e[1].spells.map((function(e){return e&&"object"!==l(e)?{name:e}:e}))}))})),n.forEach((function(n){n.history||(n.history=[]),n.preparedSpells&&Object.entries(n.preparedSpells).forEach((function(e){var l=a(e,1)[0];Number.isInteger(Number.parseInt(l,10))||delete n.preparedSpells[l]})),n.knownSpells&&Object.entries(n.knownSpells).forEach((function(e){var l=a(e,1)[0];Number.isInteger(Number.parseInt(l,10))||delete n.preparedSpells[l]})),e.debug("Characters",n)}))}}}])},lYkm:function(e,n){e.exports='<div class="modal fade" id="modalMetamagic" tabindex="-1" role="dialog" aria-labelledby="modalSpellLabel" aria-hidden="false">\n  <div class="modal-dialog" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <h3 class="modal-title" id="modalSpellLabel">\n          Add with metamagic\n        </h3>\n        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n          <span class="fas fa-times"></span>\n        </button>\n      </div>\n      <div class="modal-body">\n        <form class="container">\n\n          <div class="form-group ">\n            <label class="control-label" for="levelSelect">Level increase:</label>\n            <select ng-change="$ctrl.refresh()" class="form-control selectpicker mb-3" name="levelSelect" id="levelSelect" ng-model="$ctrl.levelSelected" ng-options="value as value for (idx , value) in $ctrl.levelIncreases"></select>\n          </div>\n\n          <div class="form-group pb-1 mt-1" ng-repeat="label in $ctrl.labels track by $index">\n            <div class="row">\n              <div class="col">\n                <select ng-change="$ctrl.refresh()" class="form-control selectpicker" name="levelSelect" id="levelSelect" data-live-search="true" ng-model="$ctrl.labels[$index]" ng-options="value.toLowerCase() as value for value in $ctrl.castingTimes"></select>\n              </div>\n              <div class="col-auto">\n                <button ng-if="!$ctrl.deleteMode" class="btn btn btn-danger mt-2 ng-scope" ng-click="$ctrl.delete($index)"><i class="fas fa-trash"></i></button>\n              </div>\n            </div>\n          </div>\n\n          <div class="mt-2 form-group">\n            <button class=\'btn btn-primary\' ng-click=\'$ctrl.addLabel()\'>add metamagic label</button>\n          </div>\n        </form>\n        <div class="accordion border border-primary" id="accordionExample">\n          <div class="card card-collapse">\n            <div class="card-header" role="tab" id="heading{{$index}}">\n              <h5 class="mb-0 text-primary">\n                <a>\n                  Level {{$ctrl.initialLevel/1 + $ctrl.levelSelected/1}}\n                  <i class="float-right fas fa-chevron-down expanded-flip"></i>\n                </a>\n              </h5>\n            </div>\n\n            <div class="collapse show">\n              <div class="card-body">\n                <table class="table table-sm" style="">\n                  <tbody>\n                    <tr>\n                      <td>\n                        <a class="text-dark">\n                          {{$ctrl.spellName}}\n                          <span class="badge badge-info ml-1" data-toggle="tooltip" data-placement="top" title="Metamagic">M{{$ctrl.filteredLabels().length?\':\':\'\'}} {{$ctrl.filteredLabels() | array}}</span>\n                        </a>\n                      </td>\n                      <td class="float-right">\n                        <a class=\'text-success\'>\n                          <i class="fas fa-scroll mt-2 mb-2 ml-4 mr-4 push-shadow"></i>\n                        </a>\n                      </td>\n                    </tr>\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class="modal-footer">\n        <button type="button" class="btn btn-success" data-dismiss="modal" ng-click="$ctrl.addSpell()">Add</button>\n        <button type="button" class="btn" data-dismiss="modal">cancel</button>\n      </div>\n    </div>\n  </div>\n</div>\n'},thb7:function(e,n){e.exports='<button class="navbar-toggler float-right" type="button"  ng-click="$ctrl.toggleSidebar()">\n  <span class="sr-only">Toggle navigation</span>\n  <span class="navbar-toggler-icon icon-bar btn-danger"></span>\n  <span class="navbar-toggler-icon icon-bar text-light"></span>\n  <span class="navbar-toggler-icon icon-bar text-light"></span>\n</button>\n\n\x3c!-- data-toggle="collapse" aria-controls="navigation-index" aria-expanded="false" aria-label="Toggle navigation" --\x3e\n'},vNZY:function(e,n,a){"use strict";a.r(n);var l=a("l2P5"),t=a.n(l);angular.module("app.services").factory("filterService",["$log","$window","CLASSES","SCHOOLS","SUBSCHOOLS","CASTING_TIME",function(e,n,a,l,r,o){var i={},s="FAV_SPELLS",c="FAV_ONLY",d="SOURCE_BOOKS",p=n.localStorage;return i.school="any",i.subSchool="any",i.castingTime="any",i.favOnly=!!JSON.parse(p.getItem(c))&&JSON.parse(p.getItem(c)),i.sourceBooks=JSON.parse(p.getItem(d))?JSON.parse(p.getItem(d)):[],i.setFavOnly=function(e){i.favOnly=e,p.setItem(c,JSON.stringify(i.favOnly))},i.setSourceBook=function(e){i.sourceBooks=e,p.setItem(d,JSON.stringify(i.sourceBooks))},i.filter=function(e){var n=!1;if(i.filterText){var a=new t.a([e],["name"],{caseSensitive:!1}).search(i.filterText);n=a&&!!a.length}else n=!0;return n&&i.favOnly&&(n=n&&i.isFav(e)),n&&i.sourceBooks.length&&(n=n&&i.sourceBooks.includes(e.source.substring(2,e.source.indexOf(" pg.")))),(n=(n=n&&(Array.isArray(l[i.school].search)?n&&l[i.school].search.includes(e.school):n&&l[i.school].search(e)))&&(Array.isArray(r[i.subSchool].search)?n&&r[i.subSchool].search.includes(e.subschool):n&&r[i.subSchool].search(e)))&&(Array.isArray(o[i.castingTime].search)?n&&o[i.castingTime].search.includes(e.castingTime):n&&o[i.castingTime].search(e))},i.isFav=function(e){var n=JSON.parse(p.getItem(s));return n&&n.length||(n=[]),n.includes(e.name)},i.changeFav=function(e){var n=JSON.parse(p.getItem(s));n&&n.length||(n=[]);var a=n.includes(e.name);a?n.splice(n.indexOf(e.name),1):n.push(e.name),p.setItem(s,JSON.stringify(n)),a?ga("send","event","favourites",e.name,"remove"):ga("send","event","favourites",e.name,"add")},i}])},wl6r:function(e,n){e.exports='<div class="wrapper">\n\n  <sidebar></sidebar>\n\n  <div class="main-panel">\n    <page-header title="ScrollBear" subtitle="Pathfinder RPG Spellbook"></page-header>\n\n    <div class="content">\n      <div class="row">\n        <div class="col-xl-8 col-centered">\n          <ui-view></ui-view>\n        </div>\n      </div>\n    </div>\n\n    <page-footer></page-footer>\n  </div>\n</div>\n<modal-metamagic></modal-metamagic>\n<modal-spell></modal-spell>\n'},xODW:function(e,n){angular.module("app.filters").filter("array",[function(){return function(e){return e?Array.isArray(e)?e.reduce((function(e,n,a){return e+(0===a?"":", ")+n}),""):e:""}}])}});